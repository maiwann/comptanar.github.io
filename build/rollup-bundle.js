var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var n=t((function(e,t){e.exports=function(){var e=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},t=b,n=a,o=c,r=l,i=y,s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e){for(var t,n=[],o=0,r=0,i="";null!=(t=s.exec(e));){var a=t[0],c=t[1],l=t.index;if(i+=e.slice(r,l),r=l+a.length,c)i+=c[1];else{i&&(n.push(i),i="");var u=t[2],d=t[3],h=t[4],p=t[5],m=t[6],g=t[7],y="+"===m||"*"===m,b="?"===m||"*"===m,v=u||"/",w=h||p||(g?".*":"[^"+v+"]+?");n.push({name:d||o++,prefix:u||"",delimiter:v,optional:b,repeat:y,pattern:f(w)})}}return r<e.length&&(i+=e.substr(r)),i&&n.push(i),n}function c(e){return l(a(e))}function l(t){for(var n=new Array(t.length),o=0;o<t.length;o++)"object"==typeof t[o]&&(n[o]=new RegExp("^"+t[o].pattern+"$"));return function(o){for(var r="",i=o||{},s=0;s<t.length;s++){var a=t[s];if("string"!=typeof a){var c,l=i[a.name];if(null==l){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(e(l)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+l+'"');if(0===l.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var u=0;u<l.length;u++){if(c=encodeURIComponent(l[u]),!n[s].test(c))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+c+'"');r+=(0===u?a.prefix:a.delimiter)+c}}else{if(c=encodeURIComponent(l),!n[s].test(c))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+c+'"');r+=a.prefix+c}}else r+=a}return r}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function f(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function h(e){return e.sensitive?"":"i"}function p(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var o=0;o<n.length;o++)t.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return d(e,t)}function m(e,t,n){for(var o=[],r=0;r<e.length;r++)o.push(b(e[r],t,n).source);return d(new RegExp("(?:"+o.join("|")+")",h(n)),t)}function g(e,t,n){for(var o=a(e),r=y(o,n),i=0;i<o.length;i++)"string"!=typeof o[i]&&t.push(o[i]);return d(r,t)}function y(e,t){for(var n=(t=t||{}).strict,o=!1!==t.end,r="",i=e[e.length-1],s="string"==typeof i&&/\/$/.test(i),a=0;a<e.length;a++){var c=e[a];if("string"==typeof c)r+=u(c);else{var l=u(c.prefix),f=c.pattern;c.repeat&&(f+="(?:"+l+f+")*"),r+=f=c.optional?l?"(?:"+l+"("+f+"))?":"("+f+")?":l+"("+f+")"}}return n||(r=(s?r.slice(0,-2):r)+"(?:\\/(?=$))?"),r+=o?"$":n&&s?"":"(?=\\/|$)",new RegExp("^"+r,h(t))}function b(t,n,o){return e(n=n||[])?o||(o={}):(o=n,n=[]),t instanceof RegExp?p(t,n):e(t)?m(t,n,o):g(t,n,o)}t.parse=n,t.compile=o,t.tokensToFunction=r,t.tokensToRegExp=i;var v,w="undefined"!=typeof document,k="undefined"!=typeof window,$="undefined"!=typeof history,S="undefined"!=typeof process,x=w&&document.ontouchstart?"touchstart":"click",E=k&&!(!window.history.location&&!window.location);function T(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function C(){var e=new T;function t(){return N.apply(e,arguments)}return t.callbacks=e.callbacks,t.exits=e.exits,t.base=e.base.bind(e),t.strict=e.strict.bind(e),t.start=e.start.bind(e),t.stop=e.stop.bind(e),t.show=e.show.bind(e),t.back=e.back.bind(e),t.redirect=e.redirect.bind(e),t.replace=e.replace.bind(e),t.dispatch=e.dispatch.bind(e),t.exit=e.exit.bind(e),t.configure=e.configure.bind(e),t.sameOrigin=e.sameOrigin.bind(e),t.clickHandler=e.clickHandler.bind(e),t.create=C,Object.defineProperty(t,"len",{get:function(){return e.len},set:function(t){e.len=t}}),Object.defineProperty(t,"current",{get:function(){return e.current},set:function(t){e.current=t}}),t.Context=M,t.Route=P,t}function N(e,t){if("function"==typeof e)return N.call(this,"*",e);if("function"==typeof t)for(var n=new P(e,null,this),o=1;o<arguments.length;++o)this.callbacks.push(n.middleware(arguments[o]));else"string"==typeof e?this["string"==typeof t?"redirect":"show"](e,t):this.start(e)}function O(e){if(!e.handled){var t=this,n=t._window;(t._hashbang?E&&this._getBase()+n.location.hash.replace("#!",""):E&&n.location.pathname+n.location.search)!==e.canonicalPath&&(t.stop(),e.handled=!1,E&&(n.location.href=e.canonicalPath))}}function A(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function M(e,t,n){var o=this.page=n||N,r=o._window,i=o._hashbang,s=o._getBase();"/"===e[0]&&0!==e.indexOf(s)&&(e=s+(i?"#!":"")+e);var a=e.indexOf("?");this.canonicalPath=e;var c=new RegExp("^"+A(s));if(this.path=e.replace(c,"")||"/",i&&(this.path=this.path.replace("#!","")||"/"),this.title=w&&r.document.title,this.state=t||{},this.state.path=e,this.querystring=~a?o._decodeURLEncodedURIComponent(e.slice(a+1)):"",this.pathname=o._decodeURLEncodedURIComponent(~a?e.slice(0,a):e),this.params={},this.hash="",!i){if(!~this.path.indexOf("#"))return;var l=this.path.split("#");this.path=this.pathname=l[0],this.hash=o._decodeURLEncodedURIComponent(l[1])||"",this.querystring=this.querystring.split("#")[0]}}function P(e,n,o){var r=this.page=o||j,i=n||{};i.strict=i.strict||r._strict,this.path="*"===e?"(.*)":e,this.method="GET",this.regexp=t(this.path,this.keys=[],i)}T.prototype.configure=function(e){var t=e||{};this._window=t.window||k&&window,this._decodeURLComponents=!1!==t.decodeURLComponents,this._popstate=!1!==t.popstate&&k,this._click=!1!==t.click&&w,this._hashbang=!!t.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):k&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(x,this.clickHandler,!1):w&&n.document.removeEventListener(x,this.clickHandler,!1),this._hashbang&&k&&!$?n.addEventListener("hashchange",this._onpopstate,!1):k&&n.removeEventListener("hashchange",this._onpopstate,!1)},T.prototype.base=function(e){if(0===arguments.length)return this._base;this._base=e},T.prototype._getBase=function(){var e=this._base;if(e)return e;var t=k&&this._window&&this._window.location;return k&&this._hashbang&&t&&"file:"===t.protocol&&(e=t.pathname),e},T.prototype.strict=function(e){if(0===arguments.length)return this._strict;this._strict=e},T.prototype.start=function(e){var t=e||{};if(this.configure(t),!1!==t.dispatch){var n;if(this._running=!0,E){var o=this._window.location;n=this._hashbang&&~o.hash.indexOf("#!")?o.hash.substr(2)+o.search:this._hashbang?o.search+o.hash:o.pathname+o.search+o.hash}this.replace(n,null,!0,t.dispatch)}},T.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var e=this._window;this._click&&e.document.removeEventListener(x,this.clickHandler,!1),k&&e.removeEventListener("popstate",this._onpopstate,!1),k&&e.removeEventListener("hashchange",this._onpopstate,!1)}},T.prototype.show=function(e,t,n,o){var r=new M(e,t,this),i=this.prevContext;return this.prevContext=r,this.current=r.path,!1!==n&&this.dispatch(r,i),!1!==r.handled&&!1!==o&&r.pushState(),r},T.prototype.back=function(e,t){var n=this;if(this.len>0){var o=this._window;$&&o.history.back(),this.len--}else e?setTimeout((function(){n.show(e,t)})):setTimeout((function(){n.show(n._getBase(),t)}))},T.prototype.redirect=function(e,t){var n=this;"string"==typeof e&&"string"==typeof t&&N.call(this,e,(function(e){setTimeout((function(){n.replace(t)}),0)})),"string"==typeof e&&void 0===t&&setTimeout((function(){n.replace(e)}),0)},T.prototype.replace=function(e,t,n,o){var r=new M(e,t,this),i=this.prevContext;return this.prevContext=r,this.current=r.path,r.init=n,r.save(),!1!==o&&this.dispatch(r,i),r},T.prototype.dispatch=function(e,t){var n=0,o=0,r=this;function i(){var e=r.exits[o++];if(!e)return s();e(t,i)}function s(){var t=r.callbacks[n++];if(e.path===r.current)return t?void t(e,s):O.call(r,e);e.handled=!1}t?i():s()},T.prototype.exit=function(e,t){if("function"==typeof e)return this.exit("*",e);for(var n=new P(e,null,this),o=1;o<arguments.length;++o)this.exits.push(n.middleware(arguments[o]))},T.prototype.clickHandler=function(e){if(1===this._which(e)&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){var t=e.target,n=e.path||(e.composedPath?e.composedPath():null);if(n)for(var o=0;o<n.length;o++)if(n[o].nodeName&&"A"===n[o].nodeName.toUpperCase()&&n[o].href){t=n[o];break}for(;t&&"A"!==t.nodeName.toUpperCase();)t=t.parentNode;if(t&&"A"===t.nodeName.toUpperCase()){var r="object"==typeof t.href&&"SVGAnimatedString"===t.href.constructor.name;if(!t.hasAttribute("download")&&"external"!==t.getAttribute("rel")){var i=t.getAttribute("href");if((this._hashbang||!this._samePath(t)||!t.hash&&"#"!==i)&&!(i&&i.indexOf("mailto:")>-1)&&!(r?t.target.baseVal:t.target)&&(r||this.sameOrigin(t.href))){var s=r?t.href.baseVal:t.pathname+t.search+(t.hash||"");s="/"!==s[0]?"/"+s:s,S&&s.match(/^\/[a-zA-Z]:\//)&&(s=s.replace(/^\/[a-zA-Z]:\//,"/"));var a=s,c=this._getBase();0===s.indexOf(c)&&(s=s.substr(c.length)),this._hashbang&&(s=s.replace("#!","")),(!c||a!==s||E&&"file:"===this._window.location.protocol)&&(e.preventDefault(),this.show(a))}}}}},T.prototype._onpopstate=(v=!1,k?(w&&"complete"===document.readyState?v=!0:window.addEventListener("load",(function(){setTimeout((function(){v=!0}),0)})),function(e){if(v){var t=this;if(e.state){var n=e.state.path;t.replace(n,e.state)}else if(E){var o=t._window.location;t.show(o.pathname+o.search+o.hash,void 0,void 0,!1)}}}):function(){}),T.prototype._which=function(e){return null==(e=e||k&&this._window.event).which?e.button:e.which},T.prototype._toURL=function(e){var t=this._window;if("function"==typeof URL&&E)return new URL(e,t.location.toString());if(w){var n=t.document.createElement("a");return n.href=e,n}},T.prototype.sameOrigin=function(e){if(!e||!E)return!1;var t=this._toURL(e),n=this._window.location;return n.protocol===t.protocol&&n.hostname===t.hostname&&(n.port===t.port||""===n.port&&(80==t.port||443==t.port))},T.prototype._samePath=function(e){if(!E)return!1;var t=this._window.location;return e.pathname===t.pathname&&e.search===t.search},T.prototype._decodeURLEncodedURIComponent=function(e){return"string"!=typeof e?e:this._decodeURLComponents?decodeURIComponent(e.replace(/\+/g," ")):e},M.prototype.pushState=function(){var e=this.page,t=e._window,n=e._hashbang;e.len++,$&&t.history.pushState(this.state,this.title,n&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},M.prototype.save=function(){var e=this.page;$&&e._window.history.replaceState(this.state,this.title,e._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},P.prototype.middleware=function(e){var t=this;return function(n,o){if(t.match(n.path,n.params))return n.routePath=t.path,e(n,o);o()}},P.prototype.match=function(e,t){var n=this.keys,o=e.indexOf("?"),r=~o?e.slice(0,o):e,i=this.regexp.exec(decodeURIComponent(r));if(!i)return!1;delete t[0];for(var s=1,a=i.length;s<a;++s){var c=n[s-1],l=this.page._decodeURLEncodedURIComponent(i[s]);void 0===l&&hasOwnProperty.call(t,c.name)||(t[c.name]=l)}return!0};var j=C(),_=j,L=j;return _.default=L,_}()}));function o(){}const r=e=>e;function i(e,t){for(const n in t)e[n]=t[n];return e}function s(e){return e()}function a(){return Object.create(null)}function c(e){e.forEach(s)}function l(e){return"function"==typeof e}function u(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function f(e,t,n,o){if(e){const r=d(e,t,n,o);return e[0](r)}}function d(e,t,n,o){return e[1]&&o?i(n.ctx.slice(),e[1](o(t))):n.ctx}function h(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|r[o];return e}return t.dirty|r}return t.dirty}function p(e,t,n,o,r,i){if(r){const s=d(t,n,o,i);e.p(s,r)}}function m(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}const g="undefined"!=typeof window;let y=g?()=>window.performance.now():()=>Date.now(),b=g?e=>requestAnimationFrame(e):o;const v=new Set;function w(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&b(w)}function k(e,t){e.appendChild(t)}function $(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function S(e){const t=C("style");return function(e,t){k(e.head||e,t),t.sheet}($(e),t),t.sheet}function x(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function T(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function N(e){return document.createTextNode(e)}function O(){return N(" ")}function A(){return N("")}function M(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function P(e){return function(t){return t.preventDefault(),e.call(this,t)}}function j(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _(e){return""===e?null:+e}function L(e,t){t=""+t,e.data!==t&&(e.data=t)}function D(e,t){e.value=null==t?"":t}function I(e,t,n){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function U(e,t,n){e.classList[n?"add":"remove"](t)}function q(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,o,t),r}const B=new Map;let F,R=0;function H(e,t,n,o,r,i,s,a=0){const c=16.666/o;let l="{\n";for(let e=0;e<=1;e+=c){const o=t+(n-t)*i(e);l+=100*e+`%{${s(o,1-o)}}\n`}const u=l+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,d=$(e),{stylesheet:h,rules:p}=B.get(d)||function(e,t){const n={stylesheet:S(t),rules:{}};return B.set(e,n),n}(d,e);p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${u}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${f} ${o}ms linear ${r}ms 1 both`,R+=1,f}function K(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-o.length;r&&(e.style.animation=o.join(", "),R-=r,R||b((()=>{R||(B.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&E(t)})),B.clear())})))}function Y(e){F=e}function W(){if(!F)throw new Error("Function called outside component initialization");return F}const V=[],J=[];let G=[];const X=[],Q=Promise.resolve();let z=!1;function Z(){z||(z=!0,Q.then(ie))}function ee(){return Z(),Q}function te(e){G.push(e)}const ne=new Set;let oe,re=0;function ie(){if(0!==re)return;const e=F;do{try{for(;re<V.length;){const e=V[re];re++,Y(e),se(e.$$)}}catch(e){throw V.length=0,re=0,e}for(Y(null),V.length=0,re=0;J.length;)J.pop()();for(let e=0;e<G.length;e+=1){const t=G[e];ne.has(t)||(ne.add(t),t())}G.length=0}while(V.length);for(;X.length;)X.pop()();z=!1,ne.clear(),Y(e)}function se(e){if(null!==e.fragment){e.update(),c(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(te)}}function ae(e,t,n){e.dispatchEvent(q(`${t?"intro":"outro"}${n}`))}const ce=new Set;let le;function ue(){le={r:0,c:[],p:le}}function fe(){le.r||c(le.c),le=le.p}function de(e,t){e&&e.i&&(ce.delete(e),e.i(t))}function he(e,t,n,o){if(e&&e.o){if(ce.has(e))return;ce.add(e),le.c.push((()=>{ce.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const pe={duration:0};function me(e,t,n,i){const s={direction:"both"};let a=t(e,n,s),u=i?0:1,f=null,d=null,h=null;function p(){h&&K(e,h)}function m(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(t){const{delay:n=0,duration:i=300,easing:s=r,tick:l=o,css:g}=a||pe,k={start:y()+n,b:t};t||(k.group=le,le.r+=1),f||d?d=k:(g&&(p(),h=H(e,u,t,i,n,s,g)),t&&l(0,1),f=m(k,i),te((()=>ae(e,t,"start"))),function(e){let t;0===v.size&&b(w),new Promise((n=>{v.add(t={c:e,f:n})}))}((t=>{if(d&&t>d.start&&(f=m(d,i),d=null,ae(e,f.b,"start"),g&&(p(),h=H(e,u,f.b,f.duration,0,s,a.css))),f)if(t>=f.end)l(u=f.b,1-u),ae(e,f.b,"end"),d||(f.b?p():--f.group.r||c(f.group.c)),f=null;else if(t>=f.start){const e=t-f.start;u=f.a+f.d*s(e/f.duration),l(u,1-u)}return!(!f&&!d)})))}return{run(e){l(a)?(oe||(oe=Promise.resolve(),oe.then((()=>{oe=null}))),oe).then((()=>{a=a(s),g(e)})):g(e)},end(){p(),f=d=null}}}function ge(e,t){const n=t.token={};function o(e,o,r,i){if(t.token!==n)return;t.resolved=i;let s=t.ctx;void 0!==r&&(s=s.slice(),s[r]=i);const a=e&&(t.current=e)(s);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==o&&e&&(ue(),he(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),fe())})):t.block.d(1),a.c(),de(a,1),a.m(t.mount(),t.anchor),c=!0),t.block=a,t.blocks&&(t.blocks[o]=a),c&&ie()}if(!(r=e)||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then){if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}else{const n=W();if(e.then((e=>{Y(n),o(t.then,1,t.value,e),Y(null)}),(e=>{if(Y(n),o(t.catch,2,t.error,e),Y(null),!t.hasCatch)throw e})),t.current!==t.pending)return o(t.pending,0),!0}var r}function ye(e,t,n){const o=t.slice(),{resolved:r}=e;e.current===e.then&&(o[e.value]=r),e.current===e.catch&&(o[e.error]=r),e.block.p(o,n)}function be(e,t){const n={},o={},r={$$scope:1};let i=e.length;for(;i--;){const s=e[i],a=t[i];if(a){for(const e in s)e in a||(o[e]=1);for(const e in a)r[e]||(n[e]=a[e],r[e]=1);e[i]=a}else for(const e in s)r[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}function ve(e){return"object"==typeof e&&null!==e?e:{}}function we(e){e&&e.c()}function ke(e,t,n,o){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),o||te((()=>{const t=e.$$.on_mount.map(s).filter(l);e.$$.on_destroy?e.$$.on_destroy.push(...t):c(t),e.$$.on_mount=[]})),i.forEach(te)}function $e(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];G.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),G=t}(n.after_update),c(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Se(e,t,n,r,i,s,l,u=[-1]){const f=F;Y(e);const d=e.$$={fragment:null,ctx:[],props:s,update:o,not_equal:i,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:a(),dirty:u,skip_bound:!1,root:t.target||f.$$.root};l&&l(d.root);let h=!1;if(d.ctx=n?n(e,t.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),h&&function(e,t){-1===e.$$.dirty[0]&&(V.push(e),Z(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],d.update(),h=!0,c(d.before_update),d.fragment=!!r&&r(d.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);d.fragment&&d.fragment.l(e),e.forEach(E)}else d.fragment&&d.fragment.c();t.intro&&de(e.$$.fragment),ke(e,t.target,t.anchor,t.customElement),ie()}Y(f)}class xe{$destroy(){$e(this,1),this.$destroy=o}$on(e,t){if(!l(t))return o;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ee(e){let t,n,r,i;return{c(){t=C("p"),n=N("Si tu es de l'Échappée Belle, "),r=C("a"),i=N("connecte-toi via github"),j(r,"href",e[2])},m(e,o){x(e,t,o),k(t,n),k(t,r),k(r,i)},p:o,d(e){e&&E(t)}}}function Te(e){let t,n,o={ctx:e,current:null,token:null,hasCatch:!0,pending:Oe,then:Ne,catch:Ce,value:7,error:8};return ge(n=e[0],o),{c(){t=A(),o.block.c()},m(e,n){x(e,t,n),o.block.m(e,o.anchor=n),o.mount=()=>t.parentNode,o.anchor=t},p(t,r){e=t,o.ctx=e,1&r&&n!==(n=e[0])&&ge(n,o)||ye(o,e,r)},d(e){e&&E(t),o.block.d(e),o.token=null,o=null}}}function Ce(e){let t,n,o=e[8]+"";return{c(){t=N("Problème de connexion à Github ! "),n=N(o)},m(e,o){x(e,t,o),x(e,n,o)},p(e,t){1&t&&o!==(o=e[8]+"")&&L(n,o)},d(e){e&&E(t),e&&E(n)}}}function Ne(e){let t,n,o,r,i,s,a=e[7]+"";return{c(){t=N("connecté.e en tant que "),n=N(a),o=O(),r=C("button"),r.textContent="Se déconnecter"},m(a,c){x(a,t,c),x(a,n,c),x(a,o,c),x(a,r,c),i||(s=M(r,"click",(function(){l(e[1])&&e[1].apply(this,arguments)})),i=!0)},p(t,o){e=t,1&o&&a!==(a=e[7]+"")&&L(n,a)},d(e){e&&E(t),e&&E(n),e&&E(o),e&&E(r),i=!1,s()}}}function Oe(e){let t;return{c(){t=N("... recherche du nom d'utilisateur.rice Github ...")},m(e,n){x(e,t,n)},p:o,d(e){e&&E(t)}}}function Ae(e){let t,n,r,i;function s(e,t){return e[0]?Te:Ee}let a=s(e),c=a(e);return{c(){t=C("header"),n=C("h1"),n.textContent="🏴‍☠️ Compt'anar 🤓 🔢",r=O(),i=C("div"),c.c(),j(t,"class","svelte-xp3vgv")},m(e,o){x(e,t,o),k(t,n),k(t,r),k(t,i),c.m(i,null)},p(e,[t]){a===(a=s(e))&&c?c.p(e,t):(c.d(1),c=a(e),c&&(c.c(),c.m(i,null)))},i:o,o:o,d(e){e&&E(t),c.d()}}}function Me(e,t,n){let{login:o}=t,{logout:r}=t;const i=`https://github.com/login/oauth/authorize?client_id=fe09b09c65edef4ec9cc&scope=${["public_repo","read:org"].join(",")}&redirect_uri=${`https://ttt.olibri.us/github-callback?destination=${`${location.origin}/`}`}`;return e.$$set=e=>{"login"in e&&n(0,o=e.login),"logout"in e&&n(1,r=e.logout)},[o,r,i]}class Pe extends xe{constructor(e){super(),Se(this,e,Me,Ae,u,{login:0,logout:1})}}function je(e){let t;return{c(){t=C("footer"),t.innerHTML='<a href="https://github.com/comptanar/comptanar.github.io">Code source sur github</a>'},m(e,n){x(e,t,n)},p:o,i:o,o:o,d(e){e&&E(t)}}}class _e extends xe{constructor(e){super(),Se(this,e,null,je,u,{})}}function Le(e){let t,n,o,r,i,s;t=new Pe({props:{login:e[0],logout:e[1]}});const a=e[4].default,c=f(a,e,e[3],null);return i=new _e({}),{c(){we(t.$$.fragment),n=O(),o=C("main"),c&&c.c(),r=O(),we(i.$$.fragment),U(o,"fullwidth",e[2])},m(e,a){ke(t,e,a),x(e,n,a),x(e,o,a),c&&c.m(o,null),x(e,r,a),ke(i,e,a),s=!0},p(e,[n]){const r={};1&n&&(r.login=e[0]),2&n&&(r.logout=e[1]),t.$set(r),c&&c.p&&(!s||8&n)&&p(c,a,e,e[3],s?h(a,e[3],n,null):m(e[3]),null),(!s||4&n)&&U(o,"fullwidth",e[2])},i(e){s||(de(t.$$.fragment,e),de(c,e),de(i.$$.fragment,e),s=!0)},o(e){he(t.$$.fragment,e),he(c,e),he(i.$$.fragment,e),s=!1},d(e){$e(t,e),e&&E(n),e&&E(o),c&&c.d(e),e&&E(r),$e(i,e)}}}function De(e,t,n){let{$$slots:o={},$$scope:r}=t,{login:i}=t,{logout:s}=t,{fullwidth:a=!1}=t;return e.$$set=e=>{"login"in e&&n(0,i=e.login),"logout"in e&&n(1,s=e.logout),"fullwidth"in e&&n(2,a=e.fullwidth),"$$scope"in e&&n(3,r=e.$$scope)},[i,s,a,r,o]}class Ie extends xe{constructor(e){super(),Se(this,e,De,Le,u,{login:0,logout:1,fullwidth:2})}}function Ue(e){let t,n,r;return{c(){t=C("p"),t.textContent="Bienvenue ! Comptanar, c'est pour faire sa comptabilité en toute autonomie !",n=O(),r=C("p"),r.innerHTML="Pour le moment comptanar est en alpha ultra-privée, ultra-select, \n            pour [l&#39;Échappée Belle](https://lechappeebelle.team/) seulement\n            <small>on créé un outil pour nous, mais on fait tout pour que ça soit utile pour d&#39;autres un jour :-)</small>"},m(e,o){x(e,t,o),x(e,n,o),x(e,r,o)},p:o,d(e){e&&E(t),e&&E(n),e&&E(r)}}}function qe(e){let t,n;return t=new Ie({props:{login:e[0],logout:e[1],$$slots:{default:[Ue]},$$scope:{ctx:e}}}),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.login=e[0]),2&n&&(o.logout=e[1]),4&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function Be(e,t,n){let{login:o}=t,{logout:r}=t;return e.$$set=e=>{"login"in e&&n(0,o=e.login),"logout"in e&&n(1,r=e.logout)},[o,r]}class Fe extends xe{constructor(e){super(),Se(this,e,Be,qe,u,{login:0,logout:1})}}function Re(e,{delay:t=0,duration:n=400,easing:o=r}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:o,css:e=>"opacity: "+e*i}}
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function He(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ke(e){var t,n;return!1!==He(e)&&(void 0===(t=e.constructor)||!1!==He(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}function Ye(){return"object"==typeof navigator&&"userAgent"in navigator?navigator.userAgent:"object"==typeof process&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function We(e,t){const n=Object.assign({},e);return Object.keys(t).forEach((o=>{Ke(t[o])?o in e?n[o]=We(e[o],t[o]):Object.assign(n,{[o]:t[o]}):Object.assign(n,{[o]:t[o]})})),n}function Ve(e){for(const t in e)void 0===e[t]&&delete e[t];return e}function Je(e,t,n){if("string"==typeof t){let[e,o]=t.split(" ");n=Object.assign(o?{method:e,url:o}:{url:e},n)}else n=Object.assign({},t);var o;n.headers=(o=n.headers)?Object.keys(o).reduce(((e,t)=>(e[t.toLowerCase()]=o[t],e)),{}):{},Ve(n),Ve(n.headers);const r=We(e||{},n);return e&&e.mediaType.previews.length&&(r.mediaType.previews=e.mediaType.previews.filter((e=>!r.mediaType.previews.includes(e))).concat(r.mediaType.previews)),r.mediaType.previews=r.mediaType.previews.map((e=>e.replace(/-preview/,""))),r}const Ge=/\{[^}]+\}/g;function Xe(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function Qe(e,t){return Object.keys(e).filter((e=>!t.includes(e))).reduce(((t,n)=>(t[n]=e[n],t)),{})}function ze(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map((function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e})).join("")}function Ze(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function et(e,t,n){return t="+"===e||"#"===e?ze(t):Ze(t),n?Ze(n)+"="+t:t}function tt(e){return null!=e}function nt(e){return";"===e||"&"===e||"?"===e}function ot(e,t){var n=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,(function(e,o,r){if(o){let e="";const r=[];if(-1!==n.indexOf(o.charAt(0))&&(e=o.charAt(0),o=o.substr(1)),o.split(/,/g).forEach((function(n){var o=/([^:\*]*)(?::(\d+)|(\*))?/.exec(n);r.push(function(e,t,n,o){var r=e[n],i=[];if(tt(r)&&""!==r)if("string"==typeof r||"number"==typeof r||"boolean"==typeof r)r=r.toString(),o&&"*"!==o&&(r=r.substring(0,parseInt(o,10))),i.push(et(t,r,nt(t)?n:""));else if("*"===o)Array.isArray(r)?r.filter(tt).forEach((function(e){i.push(et(t,e,nt(t)?n:""))})):Object.keys(r).forEach((function(e){tt(r[e])&&i.push(et(t,r[e],e))}));else{const e=[];Array.isArray(r)?r.filter(tt).forEach((function(n){e.push(et(t,n))})):Object.keys(r).forEach((function(n){tt(r[n])&&(e.push(Ze(n)),e.push(et(t,r[n].toString())))})),nt(t)?i.push(Ze(n)+"="+e.join(",")):0!==e.length&&i.push(e.join(","))}else";"===t?tt(r)&&i.push(Ze(n)):""!==r||"&"!==t&&"?"!==t?""===r&&i.push(""):i.push(Ze(n)+"=");return i}(t,e,o[1],o[2]||o[3]))})),e&&"+"!==e){var i=",";return"?"===e?i="&":"#"!==e&&(i=e),(0!==r.length?e:"")+r.join(i)}return r.join(",")}return ze(r)}))}function rt(e){let t,n=e.method.toUpperCase(),o=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},e.headers),i=Qe(e,["method","baseUrl","url","headers","request","mediaType"]);const s=function(e){const t=e.match(Ge);return t?t.map(Xe).reduce(((e,t)=>e.concat(t)),[]):[]}(o);var a;o=(a=o,{expand:ot.bind(null,a)}).expand(i),/^http/.test(o)||(o=e.baseUrl+o);const c=Qe(i,Object.keys(e).filter((e=>s.includes(e))).concat("baseUrl"));if(!/application\/octet-stream/i.test(r.accept)&&(e.mediaType.format&&(r.accept=r.accept.split(/,/).map((t=>t.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`))).join(",")),e.mediaType.previews.length)){const t=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=t.concat(e.mediaType.previews).map((t=>`application/vnd.github.${t}-preview${e.mediaType.format?`.${e.mediaType.format}`:"+json"}`)).join(",")}return["GET","HEAD"].includes(n)?o=function(e,t){const n=/\?/.test(e)?"&":"?",o=Object.keys(t);return 0===o.length?e:e+n+o.map((e=>"q"===e?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${e}=${encodeURIComponent(t[e])}`)).join("&")}(o,c):"data"in c?t=c.data:Object.keys(c).length&&(t=c),r["content-type"]||void 0===t||(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(n)&&void 0===t&&(t=""),Object.assign({method:n,url:o,headers:r},void 0!==t?{body:t}:null,e.request?{request:e.request}:null)}function it(e,t,n){return rt(Je(e,t,n))}const st=function e(t,n){const o=Je(t,n),r=it.bind(null,o);return Object.assign(r,{DEFAULTS:o,defaults:e.bind(null,o),merge:Je.bind(null,o),parse:rt})}(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":`octokit-endpoint.js/7.0.5 ${Ye()}`},mediaType:{format:"",previews:[]}});var at=t((function(t,n){var o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();t.exports=n=o.fetch,o.fetch&&(n.default=o.fetch.bind(o)),n.Headers=o.Headers,n.Request=o.Request,n.Response=o.Response}));at.Headers,at.Request,at.Response;class ct extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var lt=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){o[e]=t[e]})),o;function o(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var o=t.apply(this,e),r=e[e.length-1];return"function"==typeof o&&o!==r&&Object.keys(r).forEach((function(e){o[e]=r[e]})),o}};var ut=lt(dt),ft=lt(ht);function dt(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function ht(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}dt.proto=dt((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return dt(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return ht(this)},configurable:!0})})),ut.strict=ft;const pt=ut((e=>console.warn(e))),mt=ut((e=>console.warn(e)));class gt extends Error{constructor(e,t,n){let o;super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=t,"headers"in n&&void 0!==n.headers&&(o=n.headers),"response"in n&&(this.response=n.response,o=n.response.headers);const r=Object.assign({},n.request);n.request.headers.authorization&&(r.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r,Object.defineProperty(this,"code",{get:()=>(pt(new ct("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),t)}),Object.defineProperty(this,"headers",{get:()=>(mt(new ct("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),o||{})})}}function yt(e){const t=e.request&&e.request.log?e.request.log:console;(Ke(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let n,o,r={};return(e.request&&e.request.fetch||globalThis.fetch||at)(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then((async i=>{o=i.url,n=i.status;for(const e of i.headers)r[e[0]]=e[1];if("deprecation"in r){const n=r.link&&r.link.match(/<([^>]+)>; rel="deprecation"/),o=n&&n.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${r.sunset}${o?`. See ${o}`:""}`)}if(204!==n&&205!==n){if("HEAD"===e.method){if(n<400)return;throw new gt(i.statusText,n,{response:{url:o,status:n,headers:r,data:void 0},request:e})}if(304===n)throw new gt("Not modified",n,{response:{url:o,status:n,headers:r,data:await bt(i)},request:e});if(n>=400){const t=await bt(i),s=new gt(function(e){if("string"==typeof e)return e;if("message"in e)return Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message;return`Unknown error: ${JSON.stringify(e)}`}(t),n,{response:{url:o,status:n,headers:r,data:t},request:e});throw s}return bt(i)}})).then((e=>({status:n,url:o,headers:r,data:e}))).catch((t=>{if(t instanceof gt)throw t;if("AbortError"===t.name)throw t;throw new gt(t.message,500,{request:e})}))}async function bt(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json():!t||/^text\/|charset=utf-8$/.test(t)?e.text():function(e){return e.arrayBuffer()}(e)}const vt=function e(t,n){const o=t.defaults(n);return Object.assign((function(t,n){const r=o.merge(t,n);if(!r.request||!r.request.hook)return yt(o.parse(r));const i=(e,t)=>yt(o.parse(o.merge(e,t)));return Object.assign(i,{endpoint:o,defaults:e.bind(null,o)}),r.request.hook(i,r)}),{endpoint:o,defaults:e.bind(null,o)})}(st,{headers:{"user-agent":`octokit-request.js/6.2.3 ${Ye()}`}}),wt=Symbol.for("yaml.alias"),kt=Symbol.for("yaml.document"),$t=Symbol.for("yaml.map"),St=Symbol.for("yaml.pair"),xt=Symbol.for("yaml.scalar"),Et=Symbol.for("yaml.seq"),Tt=Symbol.for("yaml.node.type"),Ct=e=>!!e&&"object"==typeof e&&e[Tt]===wt,Nt=e=>!!e&&"object"==typeof e&&e[Tt]===kt,Ot=e=>!!e&&"object"==typeof e&&e[Tt]===$t,At=e=>!!e&&"object"==typeof e&&e[Tt]===St,Mt=e=>!!e&&"object"==typeof e&&e[Tt]===xt,Pt=e=>!!e&&"object"==typeof e&&e[Tt]===Et;function jt(e){if(e&&"object"==typeof e)switch(e[Tt]){case $t:case Et:return!0}return!1}function _t(e){if(e&&"object"==typeof e)switch(e[Tt]){case wt:case $t:case xt:case Et:return!0}return!1}class Lt{constructor(e){Object.defineProperty(this,Tt,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const Dt=Symbol("break visit"),It=Symbol("skip children"),Ut=Symbol("remove node");function qt(e,t){const n=function(e){if("object"==typeof e&&(e.Collection||e.Node||e.Value))return Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e);return e}(t);if(Nt(e)){Bt(null,e.contents,n,Object.freeze([e]))===Ut&&(e.contents=null)}else Bt(null,e,n,Object.freeze([]))}function Bt(e,t,n,o){const r=function(e,t,n,o){return"function"==typeof n?n(e,t,o):Ot(t)?n.Map?.(e,t,o):Pt(t)?n.Seq?.(e,t,o):At(t)?n.Pair?.(e,t,o):Mt(t)?n.Scalar?.(e,t,o):Ct(t)?n.Alias?.(e,t,o):void 0}(e,t,n,o);if(_t(r)||At(r))return function(e,t,n){const o=t[t.length-1];if(jt(o))o.items[e]=n;else if(At(o))"key"===e?o.key=n:o.value=n;else{if(!Nt(o)){const e=Ct(o)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}o.contents=n}}(e,o,r),Bt(e,r,n,o);if("symbol"!=typeof r)if(jt(t)){o=Object.freeze(o.concat(t));for(let e=0;e<t.items.length;++e){const r=Bt(e,t.items[e],n,o);if("number"==typeof r)e=r-1;else{if(r===Dt)return Dt;r===Ut&&(t.items.splice(e,1),e-=1)}}}else if(At(t)){o=Object.freeze(o.concat(t));const e=Bt("key",t.key,n,o);if(e===Dt)return Dt;e===Ut&&(t.key=null);const r=Bt("value",t.value,n,o);if(r===Dt)return Dt;r===Ut&&(t.value=null)}return r}qt.BREAK=Dt,qt.SKIP=It,qt.REMOVE=Ut;const Ft={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class Rt{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Rt.defaultYaml,e),this.tags=Object.assign({},Rt.defaultTags,t)}clone(){const e=new Rt(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Rt(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Rt.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Rt.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:Rt.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Rt.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),o=n.shift();switch(o){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,o]=n;return this.tags[e]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;if("1.1"===e||"1.2"===e)return this.yaml.version=e,!0;return t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1}default:return t(0,`Unknown directive ${o}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,o]=e.match(/^(.*!)([^!]*)$/);o||t(`The ${e} tag has no suffix`);const r=this.tags[n];return r?r+decodeURIComponent(o):"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+e.substring(n.length).replace(/[!,[\]{}]/g,(e=>Ft[e]));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let o;if(e&&n.length>0&&_t(e.contents)){const t={};qt(e.contents,((e,n)=>{_t(n)&&n.tag&&(t[n.tag]=!0)})),o=Object.keys(t)}else o=[];for(const[r,i]of n)"!!"===r&&"tag:yaml.org,2002:"===i||e&&!o.some((e=>e.startsWith(i)))||t.push(`%TAG ${r} ${i}`);return t.join("\n")}}function Ht(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function Kt(e){const t=new Set;return qt(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function Yt(e,t){for(let n=1;;++n){const o=`${e}${n}`;if(!t.has(o))return o}}Rt.defaultYaml={explicit:!1,version:"1.2"},Rt.defaultTags={"!!":"tag:yaml.org,2002:"};class Wt extends Lt{constructor(e){super(wt),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return qt(e,{Node:(e,n)=>{if(n===this)return qt.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:o,maxAliasCount:r}=t,i=this.resolve(o);if(!i){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}const s=n.get(i);if(!s||void 0===s.res){throw new ReferenceError("This should not happen: Alias anchor was not resolved?")}if(r>=0&&(s.count+=1,0===s.aliasCount&&(s.aliasCount=Vt(o,i,n)),s.count*s.aliasCount>r)){throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return s.res}toString(e,t,n){const o=`*${this.source}`;if(e){if(Ht(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${o} `}return o}}function Vt(e,t,n){if(Ct(t)){const o=t.resolve(e),r=n&&o&&n.get(o);return r?r.count*r.aliasCount:0}if(jt(t)){let o=0;for(const r of t.items){const t=Vt(e,r,n);t>o&&(o=t)}return o}if(At(t)){const o=Vt(e,t.key,n),r=Vt(e,t.value,n);return Math.max(o,r)}return 1}function Jt(e,t,n){if(Array.isArray(e))return e.map(((e,t)=>Jt(e,String(t),n)));if(e&&"function"==typeof e.toJSON){if(!n||(!Mt(o=e)&&!jt(o)||!o.anchor))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=e=>{r.res=e,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}var o;return"bigint"!=typeof e||n?.keep?e:Number(e)}const Gt=e=>!e||"function"!=typeof e&&"object"!=typeof e;class Xt extends Lt{constructor(e){super(xt),this.value=e}toJSON(e,t){return t?.keep?this.value:Jt(this.value,e,t)}toString(){return String(this.value)}}Xt.BLOCK_FOLDED="BLOCK_FOLDED",Xt.BLOCK_LITERAL="BLOCK_LITERAL",Xt.PLAIN="PLAIN",Xt.QUOTE_DOUBLE="QUOTE_DOUBLE",Xt.QUOTE_SINGLE="QUOTE_SINGLE";function Qt(e,t,n){if(Nt(e)&&(e=e.contents),_t(e))return e;if(At(e)){const t=n.schema[$t].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:o,onAnchor:r,onTagObj:i,schema:s,sourceObjects:a}=n;let c;if(o&&e&&"object"==typeof e){if(c=a.get(e),c)return c.anchor||(c.anchor=r(e)),new Wt(c.anchor);c={anchor:null,node:null},a.set(e,c)}t?.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let l=function(e,t,n){if(t){const e=n.filter((e=>e.tag===t)),o=e.find((e=>!e.format))??e[0];if(!o)throw new Error(`Tag ${t} not found`);return o}return n.find((t=>t.identify?.(e)&&!t.format))}(e,t,s.tags);if(!l){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new Xt(e);return c&&(c.node=t),t}l=e instanceof Map?s[$t]:Symbol.iterator in Object(e)?s[Et]:s[$t]}i&&(i(l),delete n.onTagObj);const u=l?.createNode?l.createNode(n.schema,e,n):new Xt(e);return t&&(u.tag=t),c&&(c.node=u),u}function zt(e,t,n){let o=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const e=[];e[n]=o,o=e}else o=new Map([[n,o]])}return Qt(o,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Zt=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class en extends Lt{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>_t(t)||At(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(Zt(e))this.add(t);else{const[n,...o]=e,r=this.get(n,!0);if(jt(r))r.addIn(o,t);else{if(void 0!==r||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${o}`);this.set(n,zt(this.schema,o,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const o=this.get(t,!0);if(jt(o))return o.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...o]=e,r=this.get(n,!0);return 0===o.length?!t&&Mt(r)?r.value:r:jt(r)?r.getIn(o,t):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!At(t))return!1;const n=t.value;return null==n||e&&Mt(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const o=this.get(t,!0);return!!jt(o)&&o.hasIn(n)}setIn(e,t){const[n,...o]=e;if(0===o.length)this.set(n,t);else{const e=this.get(n,!0);if(jt(e))e.setIn(o,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${o}`);this.set(n,zt(this.schema,o,t))}}}}en.maxFlowStringSingleLineLength=60;const tn=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function nn(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const on=(e,t,n)=>e.endsWith("\n")?nn(n,t):n.includes("\n")?"\n"+nn(n,t):(e.endsWith(" ")?"":" ")+n;function rn(e,t,n="flow",{indentAtStart:o,lineWidth:r=80,minContentWidth:i=20,onFold:s,onOverflow:a}={}){if(!r||r<0)return e;const c=Math.max(1+i,1+r-t.length);if(e.length<=c)return e;const l=[],u={};let f,d,h=r-t.length;"number"==typeof o&&(o>r-Math.max(2,i)?l.push(0):h=r-o);let p,m=!1,g=-1,y=-1,b=-1;for("block"===n&&(g=sn(e,g),-1!==g&&(h=g+c));p=e[g+=1];){if("quoted"===n&&"\\"===p){switch(y=g,e[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}b=g}if("\n"===p)"block"===n&&(g=sn(e,g)),h=g+c,f=void 0;else{if(" "===p&&d&&" "!==d&&"\n"!==d&&"\t"!==d){const t=e[g+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(f=g)}if(g>=h)if(f)l.push(f),h=f+c,f=void 0;else if("quoted"===n){for(;" "===d||"\t"===d;)d=p,p=e[g+=1],m=!0;const t=g>b+1?g-2:y-1;if(u[t])return e;l.push(t),u[t]=!0,h=t+c,f=void 0}else m=!0}d=p}if(m&&a&&a(),0===l.length)return e;s&&s();let v=e.slice(0,l[0]);for(let o=0;o<l.length;++o){const r=l[o],i=l[o+1]||e.length;0===r?v=`\n${t}${e.slice(0,i)}`:("quoted"===n&&u[r]&&(v+=`${e[r]}\\`),v+=`\n${t}${e.slice(r+1,i)}`)}return v}function sn(e,t){let n=e[t+1];for(;" "===n||"\t"===n;){do{n=e[t+=1]}while(n&&"\n"!==n);n=e[t+1]}return t}const an=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),cn=e=>/^(%|---|\.\.\.)/m.test(e);function ln(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:o}=t,r=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(cn(e)?"  ":"");let s="",a=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(s+=n.slice(a,e)+"\\ ",e+=1,a=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":{s+=n.slice(a,e);const t=n.substr(e+2,4);switch(t){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:"00"===t.substr(0,2)?s+="\\x"+t.substr(2):s+=n.substr(e,6)}e+=5,a=e+1}break;case"n":if(o||'"'===n[e+2]||n.length<r)e+=1;else{for(s+=n.slice(a,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)s+="\n",e+=2;s+=i," "===n[e+2]&&(s+="\\"),e+=1,a=e+1}break;default:e+=1}return s=a?s+n.slice(a):n,o?s:rn(s,i,"quoted",an(t,!1))}function un(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return ln(e,t);const n=t.indent||(cn(e)?"  ":""),o="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?o:rn(o,n,"flow",an(t,!1))}function fn(e,t){const{singleQuote:n}=t.options;let o;if(!1===n)o=ln;else{const t=e.includes('"'),r=e.includes("'");o=t&&!r?un:r&&!t?ln:n?un:ln}return o(e,t)}function dn({comment:e,type:t,value:n},o,r,i){const{blockQuote:s,commentString:a,lineWidth:c}=o.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return fn(n,o);const l=o.indent||(o.forceBlockIndent||cn(n)?"  ":""),u="literal"===s||"folded"!==s&&t!==Xt.BLOCK_FOLDED&&(t===Xt.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const o=t-n,r=e.length;if(r<=o)return!1;for(let t=0,n=0;t<r;++t)if("\n"===e[t]){if(t-n>o)return!0;if(n=t+1,r-n<=o)return!1}return!0}(n,c,l.length));if(!n)return u?"|\n":">\n";let f,d;for(d=n.length;d>0;--d){const e=n[d-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let h=n.substring(d);const p=h.indexOf("\n");-1===p?f="-":n===h||p!==h.length-1?(f="+",i&&i()):f="",h&&(n=n.slice(0,-h.length),"\n"===h[h.length-1]&&(h=h.slice(0,-1)),h=h.replace(/\n+(?!\n|$)/g,`$&${l}`));let m,g=!1,y=-1;for(m=0;m<n.length;++m){const e=n[m];if(" "===e)g=!0;else{if("\n"!==e)break;y=m}}let b=n.substring(0,y<m?y+1:m);b&&(n=n.substring(b.length),b=b.replace(/\n+/g,`$&${l}`));let v=(u?"|":">")+(g?l?"2":"1":"")+f;if(e&&(v+=" "+a(e.replace(/ ?[\r\n]+/g," ")),r&&r()),u)return`${v}\n${l}${b}${n=n.replace(/\n+/g,`$&${l}`)}${h}`;return`${v}\n${l}${rn(`${b}${n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`)}${h}`,l,"block",an(o,!0))}`}function hn(e,t,n,o){const{implicitKey:r,inFlow:i}=t,s="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==Xt.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=Xt.QUOTE_DOUBLE);const c=e=>{switch(e){case Xt.BLOCK_FOLDED:case Xt.BLOCK_LITERAL:return r||i?fn(s.value,t):dn(s,t,n,o);case Xt.QUOTE_DOUBLE:return ln(s.value,t);case Xt.QUOTE_SINGLE:return un(s.value,t);case Xt.PLAIN:return function(e,t,n,o){const{type:r,value:i}=e,{actualString:s,implicitKey:a,indent:c,indentStep:l,inFlow:u}=t;if(a&&/[\n[\]{},]/.test(i)||u&&/[[\]{},]/.test(i))return fn(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||u||!i.includes("\n")?fn(i,t):dn(e,t,n,o);if(!a&&!u&&r!==Xt.PLAIN&&i.includes("\n"))return dn(e,t,n,o);if(cn(i)){if(""===c)return t.forceBlockIndent=!0,dn(e,t,n,o);if(a&&c===l)return fn(i,t)}const f=i.replace(/\n+/g,`$&\n${c}`);if(s){const e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(f),{compat:n,tags:o}=t.doc.schema;if(o.some(e)||n?.some(e))return fn(i,t)}return a?f:rn(f,c,"flow",an(t,!1))}(s,t,n,o);default:return null}};let l=c(a);if(null===l){const{defaultKeyType:e,defaultStringType:n}=t.options,o=r&&e||n;if(l=c(o),null===l)throw new Error(`Unsupported default string type ${o}`)}return l}function pn(e,t){const n=Object.assign({blockQuote:!0,commentString:tn,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let o;switch(n.collectionStyle){case"block":o=!1;break;case"flow":o=!0;break;default:o=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:o,options:n}}function mn(e,t,n,o){if(At(e))return e.toString(t,n,o);if(Ct(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let r;const i=_t(e)?e:t.doc.createNode(e,{onTagObj:e=>r=e});r||(r=function(e,t){if(t.tag){const n=e.filter((e=>e.tag===t.tag));if(n.length>0)return n.find((e=>e.format===t.format))??n[0]}let n,o;if(Mt(t)){o=t.value;const r=e.filter((e=>e.identify?.(o)));n=r.find((e=>e.format===t.format))??r.find((e=>!e.format))}else o=t,n=e.find((e=>e.nodeClass&&o instanceof e.nodeClass));if(!n)throw new Error(`Tag not resolved for ${o?.constructor?.name??typeof o} value`);return n}(t.doc.schema.tags,i));const s=function(e,t,{anchors:n,doc:o}){if(!o.directives)return"";const r=[],i=(Mt(e)||jt(e))&&e.anchor;i&&Ht(i)&&(n.add(i),r.push(`&${i}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&r.push(o.directives.tagString(s)),r.join(" ")}(i,r,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const a="function"==typeof r.stringify?r.stringify(i,t,n,o):Mt(i)?hn(i,t,n,o):i.toString(t,n,o);return s?Mt(i)||"{"===a[0]||"["===a[0]?`${s} ${a}`:`${s}\n${t.indent}${a}`:a}function gn(e,t){"debug"!==e&&"warn"!==e||("undefined"!=typeof process&&process.emitWarning?process.emitWarning(t):console.warn(t))}function yn(e,t,{key:n,value:o}){if(e?.doc.schema.merge&&bn(n))if(o=Ct(o)?o.resolve(e.doc):o,Pt(o))for(const n of o.items)vn(e,t,n);else if(Array.isArray(o))for(const n of o)vn(e,t,n);else vn(e,t,o);else{const r=Jt(n,"",e);if(t instanceof Map)t.set(r,Jt(o,r,e));else if(t instanceof Set)t.add(r);else{const i=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(_t(e)&&n&&n.doc){const t=pn(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const o=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(o);e.length>40&&(e=e.substring(0,36)+'..."'),gn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return o}return JSON.stringify(t)}(n,r,e),s=Jt(o,i,e);i in t?Object.defineProperty(t,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[i]=s}}return t}const bn=e=>"<<"===e||Mt(e)&&"<<"===e.value&&(!e.type||e.type===Xt.PLAIN);function vn(e,t,n){const o=e&&Ct(n)?n.resolve(e.doc):n;if(!Ot(o))throw new Error("Merge sources must be maps or map aliases");const r=o.toJSON(null,e,Map);for(const[e,n]of r)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0});return t}function wn(e,t,n){const o=Qt(e,void 0,n),r=Qt(t,void 0,n);return new kn(o,r)}class kn{constructor(e,t=null){Object.defineProperty(this,Tt,{value:St}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return _t(t)&&(t=t.clone(e)),_t(n)&&(n=n.clone(e)),new kn(t,n)}toJSON(e,t){return yn(t,t?.mapAsMap?new Map:{},this)}toString(e,t,n){return e?.doc?function({key:e,value:t},n,o,r){const{allNullValues:i,doc:s,indent:a,indentStep:c,options:{commentString:l,indentSeq:u,simpleKeys:f}}=n;let d=_t(e)&&e.comment||null;if(f){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(jt(e))throw new Error("With simple keys, collection cannot be used as a key value")}let h=!f&&(!e||d&&null==t&&!n.inFlow||jt(e)||(Mt(e)?e.type===Xt.BLOCK_FOLDED||e.type===Xt.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!h&&(f||!i),indent:a+c});let p,m,g,y=!1,b=!1,v=mn(e,n,(()=>y=!0),(()=>b=!0));if(!h&&!n.inFlow&&v.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(n.inFlow){if(i||null==t)return y&&o&&o(),""===v?"?":h?`? ${v}`:v}else if(i&&!f||null==t&&h)return v=`? ${v}`,d&&!y?v+=on(v,n.indent,l(d)):b&&r&&r(),v;y&&(d=null),h?(d&&(v+=on(v,n.indent,l(d))),v=`? ${v}\n${a}:`):(v=`${v}:`,d&&(v+=on(v,n.indent,l(d)))),_t(t)?(p=!!t.spaceBefore,m=t.commentBefore,g=t.comment):(p=!1,m=null,g=null,t&&"object"==typeof t&&(t=s.createNode(t))),n.implicitKey=!1,h||d||!Mt(t)||(n.indentAtStart=v.length+1),b=!1,u||!(c.length>=2)||n.inFlow||h||!Pt(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substring(2));let w=!1;const k=mn(t,n,(()=>w=!0),(()=>b=!0));let $=" ";if(d||p||m)$=p?"\n":"",m&&($+=`\n${nn(l(m),n.indent)}`),""!==k||n.inFlow?$+=`\n${n.indent}`:"\n"===$&&($="\n\n");else if(!h&&jt(t)){const e=k[0],o=k.indexOf("\n"),r=-1!==o,i=n.inFlow??t.flow??0===t.items.length;if(r||!i){let t=!1;if(r&&("&"===e||"!"===e)){let n=k.indexOf(" ");"&"===e&&-1!==n&&n<o&&"!"===k[n+1]&&(n=k.indexOf(" ",n+1)),(-1===n||o<n)&&(t=!0)}t||($=`\n${n.indent}`)}}else""!==k&&"\n"!==k[0]||($="");return v+=$+k,n.inFlow?w&&o&&o():g&&!w?v+=on(v,n.indent,l(g)):b&&r&&r(),v}(this,e,t,n):JSON.stringify(this)}}function $n(e,t,n){return(t.inFlow??e.flow?xn:Sn)(e,t,n)}function Sn({comment:e,items:t},n,{blockItemPrefix:o,flowChars:r,itemIndent:i,onChompKeep:s,onComment:a}){const{indent:c,options:{commentString:l}}=n,u=Object.assign({},n,{indent:i,type:null});let f=!1;const d=[];for(let e=0;e<t.length;++e){const r=t[e];let s=null;if(_t(r))!f&&r.spaceBefore&&d.push(""),En(n,d,r.commentBefore,f),r.comment&&(s=r.comment);else if(At(r)){const e=_t(r.key)?r.key:null;e&&(!f&&e.spaceBefore&&d.push(""),En(n,d,e.commentBefore,f))}f=!1;let a=mn(r,u,(()=>s=null),(()=>f=!0));s&&(a+=on(a,i,l(s))),f&&s&&(f=!1),d.push(o+a)}let h;if(0===d.length)h=r.start+r.end;else{h=d[0];for(let e=1;e<d.length;++e){const t=d[e];h+=t?`\n${c}${t}`:"\n"}}return e?(h+="\n"+nn(l(e),c),a&&a()):f&&s&&s(),h}function xn({comment:e,items:t},n,{flowChars:o,itemIndent:r,onComment:i}){const{indent:s,indentStep:a,flowCollectionPadding:c,options:{commentString:l}}=n;r+=a;const u=Object.assign({},n,{indent:r,inFlow:!0,type:null});let f=!1,d=0;const h=[];for(let e=0;e<t.length;++e){const o=t[e];let i=null;if(_t(o))o.spaceBefore&&h.push(""),En(n,h,o.commentBefore,!1),o.comment&&(i=o.comment);else if(At(o)){const e=_t(o.key)?o.key:null;e&&(e.spaceBefore&&h.push(""),En(n,h,e.commentBefore,!1),e.comment&&(f=!0));const t=_t(o.value)?o.value:null;t?(t.comment&&(i=t.comment),t.commentBefore&&(f=!0)):null==o.value&&e&&e.comment&&(i=e.comment)}i&&(f=!0);let s=mn(o,u,(()=>i=null));e<t.length-1&&(s+=","),i&&(s+=on(s,r,l(i))),!f&&(h.length>d||s.includes("\n"))&&(f=!0),h.push(s),d=h.length}let p;const{start:m,end:g}=o;if(0===h.length)p=m+g;else{if(!f){const e=h.reduce(((e,t)=>e+t.length+2),2);f=e>en.maxFlowStringSingleLineLength}if(f){p=m;for(const e of h)p+=e?`\n${a}${s}${e}`:"\n";p+=`\n${s}${g}`}else p=`${m}${c}${h.join(" ")}${c}${g}`}return e&&(p+=on(p,s,l(e)),i&&i()),p}function En({indent:e,options:{commentString:t}},n,o,r){if(o&&r&&(o=o.replace(/^\n+/,"")),o){const r=nn(t(o),e);n.push(r.trimStart())}}function Tn(e,t){const n=Mt(t)?t.value:t;for(const o of e)if(At(o)){if(o.key===t||o.key===n)return o;if(Mt(o.key)&&o.key.value===n)return o}}class Cn extends en{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super($t,e),this.items=[]}add(e,t){let n;n=At(e)?e:e&&"object"==typeof e&&"key"in e?new kn(e.key,e.value):new kn(e,e?.value);const o=Tn(this.items,n.key),r=this.schema?.sortMapEntries;if(o){if(!t)throw new Error(`Key ${n.key} already set`);Mt(o.value)&&Gt(n.value)?o.value.value=n.value:o.value=n.value}else if(r){const e=this.items.findIndex((e=>r(n,e)<0));-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=Tn(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=Tn(this.items,e)?.value;return(!t&&Mt(n)?n.value:n)??void 0}has(e){return!!Tn(this.items,e)}set(e,t){this.add(new kn(e,t),!0)}toJSON(e,t,n){const o=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(o);for(const e of this.items)yn(t,o,e);return o}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!At(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),$n(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const Nn={collection:"map",createNode:function(e,t,n){const{keepUndefined:o,replacer:r}=n,i=new Cn(e),s=(e,s)=>{if("function"==typeof r)s=r.call(t,e,s);else if(Array.isArray(r)&&!r.includes(e))return;(void 0!==s||o)&&i.items.push(wn(e,s,n))};if(t instanceof Map)for(const[e,n]of t)s(e,n);else if(t&&"object"==typeof t)for(const e of Object.keys(t))s(e,t[e]);return"function"==typeof e.sortMapEntries&&i.items.sort(e.sortMapEntries),i},default:!0,nodeClass:Cn,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(Ot(e)||t("Expected a mapping for this tag"),e)};class On extends en{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Et,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=An(e);if("number"!=typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const n=An(e);if("number"!=typeof n)return;const o=this.items[n];return!t&&Mt(o)?o.value:o}has(e){const t=An(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=An(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const o=this.items[n];Mt(o)&&Gt(t)?o.value=t:this.items[n]=t}toJSON(e,t){const n=[];t?.onCreate&&t.onCreate(n);let o=0;for(const e of this.items)n.push(Jt(e,String(o++),t));return n}toString(e,t,n){return e?$n(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function An(e){let t=Mt(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}const Mn={collection:"seq",createNode:function(e,t,n){const{replacer:o}=n,r=new On(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let i of t){if("function"==typeof o){const n=t instanceof Set?i:String(e++);i=o.call(t,n,i)}r.items.push(Qt(i,void 0,n))}}return r},default:!0,nodeClass:On,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(Pt(e)||t("Expected a sequence for this tag"),e)},Pn={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,o)=>hn(e,t=Object.assign({actualString:!0},t),n,o)},jn={identify:e=>null==e,createNode:()=>new Xt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Xt(null),stringify:({source:e},t)=>"string"==typeof e&&jn.test.test(e)?e:t.options.nullStr},_n={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Xt("t"===e[0]||"T"===e[0]),stringify({source:e,value:t},n){if(e&&_n.test.test(e)){if(t===("t"===e[0]||"T"===e[0]))return e}return t?n.options.trueStr:n.options.falseStr}};function Ln({format:e,minFractionDigits:t,tag:n,value:o}){if("bigint"==typeof o)return String(o);const r="number"==typeof o?o:Number(o);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(o);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(i)){let e=i.indexOf(".");e<0&&(e=i.length,i+=".");let n=t-(i.length-e-1);for(;n-- >0;)i+="0"}return i}const Dn={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ln},In={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ln(e)}},Un={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Xt(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:Ln},qn=e=>"bigint"==typeof e||Number.isInteger(e),Bn=(e,t,n,{intAsBigInt:o})=>o?BigInt(e):parseInt(e.substring(t),n);function Fn(e,t,n){const{value:o}=e;return qn(o)&&o>=0?n+o.toString(t):Ln(e)}const Rn={identify:e=>qn(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Bn(e,2,8,n),stringify:e=>Fn(e,8,"0o")},Hn={identify:qn,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Bn(e,0,10,n),stringify:Ln},Kn={identify:e=>qn(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Bn(e,2,16,n),stringify:e=>Fn(e,16,"0x")},Yn=[Nn,Mn,Pn,jn,_n,Rn,Hn,Kn,Dn,In,Un];function Wn(e){return"bigint"==typeof e||Number.isInteger(e)}const Vn=({value:e})=>JSON.stringify(e),Jn=[Nn,Mn].concat([{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Vn},{identify:e=>null==e,createNode:()=>new Xt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Vn},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:Vn},{identify:Wn,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Wn(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Vn}],{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)}),Gn={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof Buffer)return Buffer.from(e,"base64");if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},o,r,i){const s=n;let a;if("function"==typeof Buffer)a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<s.length;++t)e+=String.fromCharCode(s[t]);a=btoa(e)}}if(t||(t=Xt.BLOCK_LITERAL),t!==Xt.QUOTE_DOUBLE){const e=Math.max(o.options.lineWidth-o.indent.length,o.options.minContentWidth),n=Math.ceil(a.length/e),r=new Array(n);for(let t=0,o=0;t<n;++t,o+=e)r[t]=a.substr(o,e);a=r.join(t===Xt.BLOCK_LITERAL?"\n":" ")}return hn({comment:e,type:t,value:a},o,r,i)}};function Xn(e,t){if(Pt(e))for(let n=0;n<e.items.length;++n){let o=e.items[n];if(!At(o)){if(Ot(o)){o.items.length>1&&t("Each pair must have its own sequence indicator");const e=o.items[0]||new kn(new Xt(null));if(o.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${o.commentBefore}\n${e.key.commentBefore}`:o.commentBefore),o.comment){const t=e.value??e.key;t.comment=t.comment?`${o.comment}\n${t.comment}`:o.comment}o=e}e.items[n]=At(o)?o:new kn(o)}}else t("Expected a sequence for this tag");return e}function Qn(e,t,n){const{replacer:o}=n,r=new On(e);r.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let s,a;if("function"==typeof o&&(e=o.call(t,String(i++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);s=e[0],a=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected { key: value } tuple: ${e}`);s=t[0],a=e[s]}else s=e;r.items.push(wn(s,a,n))}return r}const zn={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Xn,createNode:Qn};class Zn extends On{constructor(){super(),this.add=Cn.prototype.add.bind(this),this.delete=Cn.prototype.delete.bind(this),this.get=Cn.prototype.get.bind(this),this.has=Cn.prototype.has.bind(this),this.set=Cn.prototype.set.bind(this),this.tag=Zn.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t?.onCreate&&t.onCreate(n);for(const e of this.items){let o,r;if(At(e)?(o=Jt(e.key,"",t),r=Jt(e.value,o,t)):o=Jt(e,"",t),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,r)}return n}}Zn.tag="tag:yaml.org,2002:omap";const eo={collection:"seq",identify:e=>e instanceof Map,nodeClass:Zn,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Xn(e,t),o=[];for(const{key:e}of n.items)Mt(e)&&(o.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):o.push(e.value));return Object.assign(new Zn,n)},createNode(e,t,n){const o=Qn(e,t,n),r=new Zn;return r.items=o.items,r}};function to({value:e,source:t},n){return t&&(e?no:oo).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const no={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Xt(!0),stringify:to},oo={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Xt(!1),stringify:to},ro={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ln},io={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ln(e)}},so={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Xt(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const o=e.substring(n+1).replace(/_/g,"");"0"===o[o.length-1]&&(t.minFractionDigits=o.length)}return t},stringify:Ln},ao=e=>"bigint"==typeof e||Number.isInteger(e);function co(e,t,n,{intAsBigInt:o}){const r=e[0];if("-"!==r&&"+"!==r||(t+=1),e=e.substring(t).replace(/_/g,""),o){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===r?BigInt(-1)*t:t}const i=parseInt(e,n);return"-"===r?-1*i:i}function lo(e,t,n){const{value:o}=e;if(ao(o)){const e=o.toString(t);return o<0?"-"+n+e.substr(1):n+e}return Ln(e)}const uo={identify:ao,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>co(e,2,2,n),stringify:e=>lo(e,2,"0b")},fo={identify:ao,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>co(e,1,8,n),stringify:e=>lo(e,8,"0")},ho={identify:ao,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>co(e,0,10,n),stringify:Ln},po={identify:ao,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>co(e,2,16,n),stringify:e=>lo(e,16,"0x")};class mo extends Cn{constructor(e){super(e),this.tag=mo.tag}add(e){let t;t=At(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new kn(e.key,null):new kn(e,null);Tn(this.items,t.key)||this.items.push(t)}get(e,t){const n=Tn(this.items,e);return!t&&At(n)?Mt(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=Tn(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new kn(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}}mo.tag="tag:yaml.org,2002:set";const go={collection:"map",identify:e=>e instanceof Set,nodeClass:mo,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(Ot(e)){if(e.hasAllNullValues(!0))return Object.assign(new mo,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){const{replacer:o}=n,r=new mo(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof o&&(e=o.call(t,e,e)),r.items.push(wn(e,null,n));return r}};function yo(e,t){const n=e[0],o="-"===n||"+"===n?e.substring(1):e,r=e=>t?BigInt(e):Number(e),i=o.replace(/_/g,"").split(":").reduce(((e,t)=>e*r(60)+r(t)),r(0));return"-"===n?r(-1)*i:i}function bo(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return Ln(e);let o="";t<0&&(o="-",t*=n(-1));const r=n(60),i=[t%r];return t<60?i.unshift(0):(t=(t-i[0])/r,i.unshift(t%r),t>=60&&(t=(t-i[0])/r,i.unshift(t))),o+i.map((e=>e<10?"0"+String(e):String(e))).join(":").replace(/000000\d*$/,"")}const vo={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>yo(e,n),stringify:bo},wo={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>yo(e,!1),stringify:bo},ko={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(ko.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,o,r,i,s,a]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0;let l=Date.UTC(n,o-1,r,i||0,s||0,a||0,c);const u=t[8];if(u&&"Z"!==u){let e=yo(u,!1);Math.abs(e)<30&&(e*=60),l-=6e4*e}return new Date(l)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},$o=[Nn,Mn,Pn,jn,no,oo,uo,fo,ho,po,ro,io,so,Gn,eo,zn,go,vo,wo,ko],So=new Map([["core",Yn],["failsafe",[Nn,Mn,Pn]],["json",Jn],["yaml11",$o],["yaml-1.1",$o]]),xo={binary:Gn,bool:_n,float:Un,floatExp:In,floatNaN:Dn,floatTime:wo,int:Hn,intHex:Kn,intOct:Rn,intTime:vo,map:Nn,null:jn,omap:eo,pairs:zn,seq:Mn,set:go,timestamp:ko},Eo={"tag:yaml.org,2002:binary":Gn,"tag:yaml.org,2002:omap":eo,"tag:yaml.org,2002:pairs":zn,"tag:yaml.org,2002:set":go,"tag:yaml.org,2002:timestamp":ko};function To(e,t){let n=So.get(t);if(!n){if(!Array.isArray(e)){const e=Array.from(So.keys()).filter((e=>"yaml11"!==e)).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}n=[]}if(Array.isArray(e))for(const t of e)n=n.concat(t);else"function"==typeof e&&(n=e(n.slice()));return n.map((e=>{if("string"!=typeof e)return e;const t=xo[e];if(t)return t;const n=Object.keys(xo).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown custom tag "${e}"; use one of ${n}`)}))}const Co=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class No{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:o,schema:r,sortMapEntries:i,toStringDefaults:s}){this.compat=Array.isArray(e)?To(e,"compat"):e?To(null,e):null,this.merge=!!n,this.name="string"==typeof r&&r||"core",this.knownTags=o?Eo:{},this.tags=To(t,this.name),this.toStringOptions=s??null,Object.defineProperty(this,$t,{value:Nn}),Object.defineProperty(this,xt,{value:Pn}),Object.defineProperty(this,Et,{value:Mn}),this.sortMapEntries="function"==typeof i?i:!0===i?Co:null}clone(){const e=Object.create(No.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function Oo(e,t,n,o){if(o&&"object"==typeof o)if(Array.isArray(o))for(let t=0,n=o.length;t<n;++t){const n=o[t],r=Oo(e,o,String(t),n);void 0===r?delete o[t]:r!==n&&(o[t]=r)}else if(o instanceof Map)for(const t of Array.from(o.keys())){const n=o.get(t),r=Oo(e,o,t,n);void 0===r?o.delete(t):r!==n&&o.set(t,r)}else if(o instanceof Set)for(const t of Array.from(o)){const n=Oo(e,o,t,t);void 0===n?o.delete(t):n!==t&&(o.delete(t),o.add(n))}else for(const[t,n]of Object.entries(o)){const r=Oo(e,o,t,n);void 0===r?delete o[t]:r!==n&&(o[t]=r)}return e.call(t,n,o)}class Ao{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Tt,{value:kt});let o=null;"function"==typeof t||Array.isArray(t)?o=t:void 0===n&&t&&(n=t,t=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:i}=r;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(i=this.directives.yaml.version)):this.directives=new Rt({version:i}),this.setSchema(i,n),this.contents=void 0===e?null:this.createNode(e,o,n)}clone(){const e=Object.create(Ao.prototype,{[Tt]:{value:kt}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=_t(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Mo(this.contents)&&this.contents.add(e)}addIn(e,t){Mo(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=Kt(this);e.anchor=!t||n.has(t)?Yt(t||"a",n):t}return new Wt(e.anchor)}createNode(e,t,n){let o;if("function"==typeof t)e=t.call({"":e},"",e),o=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),o=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:r,anchorPrefix:i,flow:s,keepUndefined:a,onTagObj:c,tag:l}=n??{},{onAnchor:u,setAnchors:f,sourceObjects:d}=function(e,t){const n=[],o=new Map;let r=null;return{onAnchor:o=>{n.push(o),r||(r=Kt(e));const i=Yt(t,r);return r.add(i),i},setAnchors:()=>{for(const e of n){const t=o.get(e);if("object"!=typeof t||!t.anchor||!Mt(t.node)&&!jt(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:o}}(this,i||"a"),h=Qt(e,l,{aliasDuplicateObjects:r??!0,keepUndefined:a??!1,onAnchor:u,onTagObj:c,replacer:o,schema:this.schema,sourceObjects:d});return s&&jt(h)&&(h.flow=!0),f(),h}createPair(e,t,n={}){const o=this.createNode(e,null,n),r=this.createNode(t,null,n);return new kn(o,r)}delete(e){return!!Mo(this.contents)&&this.contents.delete(e)}deleteIn(e){return Zt(e)?null!=this.contents&&(this.contents=null,!0):!!Mo(this.contents)&&this.contents.deleteIn(e)}get(e,t){return jt(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return Zt(e)?!t&&Mt(this.contents)?this.contents.value:this.contents:jt(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!jt(this.contents)&&this.contents.has(e)}hasIn(e){return Zt(e)?void 0!==this.contents:!!jt(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=zt(this.schema,[e],t):Mo(this.contents)&&this.contents.set(e,t)}setIn(e,t){Zt(e)?this.contents=t:null==this.contents?this.contents=zt(this.schema,Array.from(e),t):Mo(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Rt({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Rt({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new No(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:o,onAnchor:r,reviver:i}={}){const s={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof o?o:100,stringify:mn},a=Jt(this.contents,t??"",s);if("function"==typeof r)for(const{count:e,res:t}of s.anchors.values())r(t,e);return"function"==typeof i?Oo(i,{"":a},"",a):a}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return function(e,t){const n=[];let o=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(n.push(t),o=!0):e.directives.docStart&&(o=!0)}o&&n.push("---");const r=pn(e,t),{commentString:i}=r.options;if(e.commentBefore){1!==n.length&&n.unshift("");const t=i(e.commentBefore);n.unshift(nn(t,""))}let s=!1,a=null;if(e.contents){if(_t(e.contents)){if(e.contents.spaceBefore&&o&&n.push(""),e.contents.commentBefore){const t=i(e.contents.commentBefore);n.push(nn(t,""))}r.forceBlockIndent=!!e.comment,a=e.contents.comment}const t=a?void 0:()=>s=!0;let c=mn(e.contents,r,(()=>a=null),t);a&&(c+=on(c,"",i(a))),"|"!==c[0]&&">"!==c[0]||"---"!==n[n.length-1]?n.push(c):n[n.length-1]=`--- ${c}`}else n.push(mn(e.contents,r));if(e.directives?.docEnd)if(e.comment){const t=i(e.comment);t.includes("\n")?(n.push("..."),n.push(nn(t,""))):n.push(`... ${t}`)}else n.push("...");else{let t=e.comment;t&&s&&(t=t.replace(/^\n+/,"")),t&&(s&&!a||""===n[n.length-1]||n.push(""),n.push(nn(i(t),"")))}return n.join("\n")+"\n"}(this,e)}}function Mo(e){if(jt(e))return!0;throw new Error("Expected a YAML collection as document contents")}class Po extends Error{constructor(e,t,n,o){super(),this.name=e,this.code=n,this.message=o,this.pos=t}}class jo extends Po{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class _o extends Po{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const Lo=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((e=>t.linePos(e)));const{line:o,col:r}=n.linePos[0];n.message+=` at line ${o}, column ${r}`;let i=r-1,s=e.substring(t.lineStarts[o-1],t.lineStarts[o]).replace(/[\n\r]+$/,"");if(i>=60&&s.length>80){const e=Math.min(i-39,s.length-79);s="…"+s.substring(e),i-=e-1}if(s.length>80&&(s=s.substring(0,79)+"…"),o>1&&/^ *$/.test(s.substring(0,i))){let n=e.substring(t.lineStarts[o-2],t.lineStarts[o-1]);n.length>80&&(n=n.substring(0,79)+"…\n"),s=n+s}if(/[^ ]/.test(s)){let e=1;const t=n.linePos[1];t&&t.line===o&&t.col>r&&(e=Math.max(1,Math.min(t.col-r,80-i)));const a=" ".repeat(i)+"^".repeat(e);n.message+=`:\n\n${s}\n${a}\n`}};function Do(e,{flow:t,indicator:n,next:o,offset:r,onError:i,startOnNewline:s}){let a=!1,c=s,l=s,u="",f="",d=!1,h=!1,p=!1,m=null,g=null,y=null,b=null,v=null;for(const o of e)switch(p&&("space"!==o.type&&"newline"!==o.type&&"comma"!==o.type&&i(o.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),o.type){case"space":!t&&c&&"doc-start"!==n&&"\t"===o.source[0]&&i(o,"TAB_AS_INDENT","Tabs are not allowed as indentation"),l=!0;break;case"comment":{l||i(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=o.source.substring(1)||" ";u?u+=f+e:u=e,f="",c=!1;break}case"newline":c?u?u+=o.source:a=!0:f+=o.source,c=!0,d=!0,(m||g)&&(h=!0),l=!0;break;case"anchor":m&&i(o,"MULTIPLE_ANCHORS","A node can have at most one anchor"),o.source.endsWith(":")&&i(o.offset+o.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=o,null===v&&(v=o.offset),c=!1,l=!1,p=!0;break;case"tag":g&&i(o,"MULTIPLE_TAGS","A node can have at most one tag"),g=o,null===v&&(v=o.offset),c=!1,l=!1,p=!0;break;case n:(m||g)&&i(o,"BAD_PROP_ORDER",`Anchors and tags must be after the ${o.source} indicator`),b&&i(o,"UNEXPECTED_TOKEN",`Unexpected ${o.source} in ${t??"collection"}`),b=o,c=!1,l=!1;break;case"comma":if(t){y&&i(o,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),y=o,c=!1,l=!1;break}default:i(o,"UNEXPECTED_TOKEN",`Unexpected ${o.type} token`),c=!1,l=!1}const w=e[e.length-1],k=w?w.offset+w.source.length:r;return p&&o&&"space"!==o.type&&"newline"!==o.type&&"comma"!==o.type&&("scalar"!==o.type||""!==o.source)&&i(o.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:y,found:b,spaceBefore:a,comment:u,hasNewline:d,hasNewlineAfterProp:h,anchor:m,tag:g,end:k,start:v??k}}function Io(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of e.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(Io(t.key)||Io(t.value))return!0}return!1;default:return!0}}function Uo(e,t,n){if("flow-collection"===t?.type){const o=t.end[0];if(o.indent===e&&("]"===o.source||"}"===o.source)&&Io(t)){n(o,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}}function qo(e,t,n){const{uniqueKeys:o}=e.options;if(!1===o)return!1;const r="function"==typeof o?o:(t,n)=>t===n||Mt(t)&&Mt(n)&&t.value===n.value&&!("<<"===t.value&&e.schema.merge);return t.some((e=>r(e.key,n)))}const Bo="All mapping items must start at the same column";function Fo(e,t,n,o){let r="";if(e){let i=!1,s="";for(const a of e){const{source:e,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&o(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";r?r+=s+t:r=t,s="";break}case"newline":r&&(s+=e),i=!0;break;default:o(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=e.length}}return{comment:r,offset:t}}const Ro="Block collections are not allowed within flow collections",Ho=e=>e&&("block-map"===e.type||"block-seq"===e.type);function Ko(e,t,n,o,r){let i;switch(n.type){case"block-map":i=function({composeNode:e,composeEmptyNode:t},n,o,r){const i=new Cn(n.schema);n.atRoot&&(n.atRoot=!1);let s=o.offset,a=null;for(const c of o.items){const{start:l,key:u,sep:f,value:d}=c,h=Do(l,{indicator:"explicit-key-ind",next:u??f?.[0],offset:s,onError:r,startOnNewline:!0}),p=!h.found;if(p){if(u&&("block-seq"===u.type?r(s,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==o.indent&&r(s,"BAD_INDENT",Bo)),!h.anchor&&!h.tag&&!f){a=h.end,h.comment&&(i.comment?i.comment+="\n"+h.comment:i.comment=h.comment);continue}(h.hasNewlineAfterProp||Io(u))&&r(u??l[l.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else h.found?.indent!==o.indent&&r(s,"BAD_INDENT",Bo);const m=h.end,g=u?e(n,u,h,r):t(n,m,l,null,h,r);n.schema.compat&&Uo(o.indent,u,r),qo(n,i.items,g)&&r(m,"DUPLICATE_KEY","Map keys must be unique");const y=Do(f??[],{indicator:"map-value-ind",next:d,offset:g.range[2],onError:r,startOnNewline:!u||"block-scalar"===u.type});if(s=y.end,y.found){p&&("block-map"!==d?.type||y.hasNewline||r(s,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&h.start<y.found.offset-1024&&r(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const a=d?e(n,d,y,r):t(n,s,f,null,y,r);n.schema.compat&&Uo(o.indent,d,r),s=a.range[2];const l=new kn(g,a);n.options.keepSourceTokens&&(l.srcToken=c),i.items.push(l)}else{p&&r(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),y.comment&&(g.comment?g.comment+="\n"+y.comment:g.comment=y.comment);const e=new kn(g);n.options.keepSourceTokens&&(e.srcToken=c),i.items.push(e)}}return a&&a<s&&r(a,"IMPOSSIBLE","Map comment with trailing content"),i.range=[o.offset,s,a??s],i}(e,t,n,r);break;case"block-seq":i=function({composeNode:e,composeEmptyNode:t},n,o,r){const i=new On(n.schema);n.atRoot&&(n.atRoot=!1);let s=o.offset,a=null;for(const{start:c,value:l}of o.items){const u=Do(c,{indicator:"seq-item-ind",next:l,offset:s,onError:r,startOnNewline:!0});if(!u.found){if(!(u.anchor||u.tag||l)){a=u.end,u.comment&&(i.comment=u.comment);continue}l&&"block-seq"===l.type?r(u.end,"BAD_INDENT","All sequence items must start at the same column"):r(s,"MISSING_CHAR","Sequence item without - indicator")}const f=l?e(n,l,u,r):t(n,u.end,c,null,u,r);n.schema.compat&&Uo(o.indent,l,r),s=f.range[2],i.items.push(f)}return i.range=[o.offset,s,a??s],i}(e,t,n,r);break;case"flow-collection":i=function({composeNode:e,composeEmptyNode:t},n,o,r){const i="{"===o.start.source,s=i?"flow map":"flow sequence",a=i?new Cn(n.schema):new On(n.schema);a.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1);let l=o.offset+o.start.source.length;for(let c=0;c<o.items.length;++c){const u=o.items[c],{start:f,key:d,sep:h,value:p}=u,m=Do(f,{flow:s,indicator:"explicit-key-ind",next:d??h?.[0],offset:l,onError:r,startOnNewline:!1});if(!m.found){if(!(m.anchor||m.tag||h||p)){0===c&&m.comma?r(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`):c<o.items.length-1&&r(m.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${s}`),m.comment&&(a.comment?a.comment+="\n"+m.comment:a.comment=m.comment),l=m.end;continue}!i&&n.options.strict&&Io(d)&&r(d,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===c)m.comma&&r(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`);else if(m.comma||r(m.start,"MISSING_CHAR",`Missing , between ${s} items`),m.comment){let e="";e:for(const t of f)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=a.items[a.items.length-1];At(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,m.comment=m.comment.substring(e.length+1)}}if(i||h||m.found){const o=m.end,c=d?e(n,d,m,r):t(n,o,f,null,m,r);Ho(d)&&r(c.range,"BLOCK_IN_FLOW",Ro);const g=Do(h??[],{flow:s,indicator:"map-value-ind",next:p,offset:c.range[2],onError:r,startOnNewline:!1});if(g.found){if(!i&&!m.found&&n.options.strict){if(h)for(const e of h){if(e===g.found)break;if("newline"===e.type){r(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}m.start<g.found.offset-1024&&r(g.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else p&&("source"in p&&p.source&&":"===p.source[0]?r(p,"MISSING_CHAR",`Missing space after : in ${s}`):r(g.start,"MISSING_CHAR",`Missing , or : between ${s} items`));const y=p?e(n,p,g,r):g.found?t(n,g.end,h,null,g,r):null;y?Ho(p)&&r(y.range,"BLOCK_IN_FLOW",Ro):g.comment&&(c.comment?c.comment+="\n"+g.comment:c.comment=g.comment);const b=new kn(c,y);if(n.options.keepSourceTokens&&(b.srcToken=u),i){const e=a;qo(n,e.items,c)&&r(o,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(b)}else{const e=new Cn(n.schema);e.flow=!0,e.items.push(b),a.items.push(e)}l=y?y.range[2]:g.end}else{const o=p?e(n,p,m,r):t(n,m.end,h,null,m,r);a.items.push(o),l=o.range[2],Ho(p)&&r(o.range,"BLOCK_IN_FLOW",Ro)}}const u=i?"}":"]",[f,...d]=o.end;let h=l;if(f&&f.source===u)h=f.offset+f.source.length;else{const e=s[0].toUpperCase()+s.substring(1);r(l,c?"MISSING_CHAR":"BAD_INDENT",c?`${e} must end with a ${u}`:`${e} in block collection must be sufficiently indented and end with a ${u}`),f&&1!==f.source.length&&d.unshift(f)}if(d.length>0){const e=Fo(d,h,n.options.strict,r);e.comment&&(a.comment?a.comment+="\n"+e.comment:a.comment=e.comment),a.range=[o.offset,h,e.offset]}else a.range=[o.offset,h,h];return a}(e,t,n,r)}if(!o)return i;const s=t.directives.tagName(o.source,(e=>r(o,"TAG_RESOLVE_FAILED",e)));if(!s)return i;const a=i.constructor;if("!"===s||s===a.tagName)return i.tag=a.tagName,i;const c=Ot(i)?"map":"seq";let l=t.schema.tags.find((e=>e.collection===c&&e.tag===s));if(!l){const e=t.schema.knownTags[s];if(!e||e.collection!==c)return r(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),i.tag=s,i;t.schema.tags.push(Object.assign({},e,{default:!1})),l=e}const u=l.resolve(i,(e=>r(o,"TAG_RESOLVE_FAILED",e)),t.options),f=_t(u)?u:new Xt(u);return f.range=i.range,f.tag=s,l?.format&&(f.format=l.format),f}function Yo(e,t,n){const o=e.offset,r=function({offset:e,props:t},n,o){if("block-scalar-header"!==t[0].type)return o(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=t[0],i=r[0];let s=0,a="",c=-1;for(let t=1;t<r.length;++t){const n=r[t];if(a||"-"!==n&&"+"!==n){const o=Number(n);!s&&o?s=o:-1===c&&(c=e+t)}else a=n}-1!==c&&o(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let l=!1,u="",f=r.length;for(let e=1;e<t.length;++e){const r=t[e];switch(r.type){case"space":l=!0;case"newline":f+=r.source.length;break;case"comment":if(n&&!l){o(r,"MISSING_CHAR","Comments must be separated from other tokens by white space characters")}f+=r.source.length,u=r.source.substring(1);break;case"error":o(r,"UNEXPECTED_TOKEN",r.message),f+=r.source.length;break;default:{o(r,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${r.type}`);const e=r.source;e&&"string"==typeof e&&(f+=e.length)}}}return{mode:i,indent:s,chomp:a,comment:u,length:f}}(e,t,n);if(!r)return{value:"",type:null,comment:"",range:[o,o,o]};const i=">"===r.mode?Xt.BLOCK_FOLDED:Xt.BLOCK_LITERAL,s=e.source?function(e){const t=e.split(/\n( *)/),n=t[0],o=n.match(/^( *)/),r=[o?.[1]?[o[1],n.slice(o[1].length)]:["",n]];for(let e=1;e<t.length;e+=2)r.push([t[e],t[e+1]]);return r}(e.source):[];let a=s.length;for(let e=s.length-1;e>=0;--e){const t=s[e][1];if(""!==t&&"\r"!==t)break;a=e}if(0===a){const t="+"===r.chomp&&s.length>0?"\n".repeat(Math.max(1,s.length-1)):"";let n=o+r.length;return e.source&&(n+=e.source.length),{value:t,type:i,comment:r.comment,range:[o,n,n]}}let c=e.indent+r.indent,l=e.offset+r.length,u=0;for(let e=0;e<a;++e){const[t,o]=s[e];if(""!==o&&"\r"!==o){if(t.length<c){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(l+t.length,"MISSING_CHAR",e)}0===r.indent&&(c=t.length),u=e;break}0===r.indent&&t.length>c&&(c=t.length),l+=t.length+o.length+1}for(let e=s.length-1;e>=a;--e)s[e][0].length>c&&(a=e+1);let f="",d="",h=!1;for(let e=0;e<u;++e)f+=s[e][0].slice(c)+"\n";for(let e=u;e<a;++e){let[t,o]=s[e];l+=t.length+o.length+1;const a="\r"===o[o.length-1];if(a&&(o=o.slice(0,-1)),o&&t.length<c){const e=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;n(l-o.length-(a?2:1),"BAD_INDENT",e),t=""}i===Xt.BLOCK_LITERAL?(f+=d+t.slice(c)+o,d="\n"):t.length>c||"\t"===o[0]?(" "===d?d="\n":h||"\n"!==d||(d="\n\n"),f+=d+t.slice(c)+o,d="\n",h=!0):""===o?"\n"===d?f+="\n":d="\n":(f+=d+o,d=" ",h=!1)}switch(r.chomp){case"-":break;case"+":for(let e=a;e<s.length;++e)f+="\n"+s[e][0].slice(c);"\n"!==f[f.length-1]&&(f+="\n");break;default:f+="\n"}const p=o+r.length+e.source.length;return{value:f,type:i,comment:r.comment,range:[o,p,p]}}function Wo(e,t,n){const{offset:o,type:r,source:i,end:s}=e;let a,c;const l=(e,t,r)=>n(o+e,t,r);switch(r){case"scalar":a=Xt.PLAIN,c=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`);return Vo(e)}(i,l);break;case"single-quoted-scalar":a=Xt.QUOTE_SINGLE,c=function(e,t){"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote");return Vo(e.slice(1,-1)).replace(/''/g,"'")}(i,l);break;case"double-quoted-scalar":a=Xt.QUOTE_DOUBLE,c=function(e,t){let n="";for(let o=1;o<e.length-1;++o){const r=e[o];if("\r"!==r||"\n"!==e[o+1])if("\n"===r){const{fold:t,offset:r}=Jo(e,o);n+=t,o=r}else if("\\"===r){let r=e[++o];const i=Go[r];if(i)n+=i;else if("\n"===r)for(r=e[o+1];" "===r||"\t"===r;)r=e[1+ ++o];else if("\r"===r&&"\n"===e[o+1])for(r=e[1+ ++o];" "===r||"\t"===r;)r=e[1+ ++o];else if("x"===r||"u"===r||"U"===r){const i={x:2,u:4,U:8}[r];n+=Xo(e,o+1,i,t),o+=i}else{const r=e.substr(o-1,2);t(o-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),n+=r}}else if(" "===r||"\t"===r){const t=o;let i=e[o+1];for(;" "===i||"\t"===i;)i=e[1+ ++o];"\n"===i||"\r"===i&&"\n"===e[o+2]||(n+=o>t?e.slice(t,o+1):r)}else n+=r}'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote');return n}(i,l);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[o,o+i.length,o+i.length]}}const u=o+i.length,f=Fo(s,u,t,n);return{value:c,type:a,comment:f.comment,range:[o,u,f.offset]}}function Vo(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(e){t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let o=t.exec(e);if(!o)return e;let r=o[1],i=" ",s=t.lastIndex;for(n.lastIndex=s;o=n.exec(e);)""===o[1]?"\n"===i?r+=i:i="\n":(r+=i+o[1],i=" "),s=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,o=a.exec(e),r+i+(o?.[1]??"")}function Jo(e,t){let n="",o=e[t+1];for(;!(" "!==o&&"\t"!==o&&"\n"!==o&&"\r"!==o||"\r"===o&&"\n"!==e[t+2]);)"\n"===o&&(n+="\n"),o=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const Go={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function Xo(e,t,n,o){const r=e.substr(t,n),i=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(i)){const r=e.substr(t-2,n+2);return o(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),r}return String.fromCodePoint(i)}function Qo(e,t,n,o){const{value:r,type:i,comment:s,range:a}="block-scalar"===t.type?Yo(t,e.options.strict,o):Wo(t,e.options.strict,o),c=n?e.directives.tagName(n.source,(e=>o(n,"TAG_RESOLVE_FAILED",e))):null,l=n&&c?function(e,t,n,o,r){if("!"===n)return e[xt];const i=[];for(const t of e.tags)if(!t.collection&&t.tag===n){if(!t.default||!t.test)return t;i.push(t)}for(const e of i)if(e.test?.test(t))return e;const s=e.knownTags[n];if(s&&!s.collection)return e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s;return r(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[xt]}(e.schema,r,c,n,o):"scalar"===t.type?function({directives:e,schema:t},n,o,r){const i=t.tags.find((e=>e.default&&e.test?.test(n)))||t[xt];if(t.compat){const s=t.compat.find((e=>e.default&&e.test?.test(n)))??t[xt];if(i.tag!==s.tag){r(o,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${e.tagString(i.tag)} or ${e.tagString(s.tag)}`,!0)}}return i}(e,r,t,o):e.schema[xt];let u;try{const i=l.resolve(r,(e=>o(n??t,"TAG_RESOLVE_FAILED",e)),e.options);u=Mt(i)?i:new Xt(i)}catch(e){const i=e instanceof Error?e.message:String(e);o(n??t,"TAG_RESOLVE_FAILED",i),u=new Xt(r)}return u.range=a,u.source=r,i&&(u.type=i),c&&(u.tag=c),l.format&&(u.format=l.format),s&&(u.comment=s),u}function zo(e,t,n){if(t){null===n&&(n=t.length);for(let o=n-1;o>=0;--o){let n=t[o];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++o];"space"===n?.type;)e+=n.source.length,n=t[++o];break}}return e}const Zo={composeNode:er,composeEmptyNode:tr};function er(e,t,n,o){const{spaceBefore:r,comment:i,anchor:s,tag:a}=n;let c,l=!0;switch(t.type){case"alias":c=function({options:e},{offset:t,source:n,end:o},r){const i=new Wt(n.substring(1));""===i.source&&r(t,"BAD_ALIAS","Alias cannot be an empty string");i.source.endsWith(":")&&r(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+n.length,a=Fo(o,s,e.strict,r);i.range=[t,s,a.offset],a.comment&&(i.comment=a.comment);return i}(e,t,o),(s||a)&&o(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=Qo(e,t,a,o),s&&(c.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=Ko(Zo,e,t,a,o),s&&(c.anchor=s.source.substring(1));break;default:o(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),c=tr(e,t.offset,void 0,null,n,o),l=!1}return s&&""===c.anchor&&o(s,"BAD_ALIAS","Anchor cannot be an empty string"),r&&(c.spaceBefore=!0),i&&("scalar"===t.type&&""===t.source?c.comment=i:c.commentBefore=i),e.options.keepSourceTokens&&l&&(c.srcToken=t),c}function tr(e,t,n,o,{spaceBefore:r,comment:i,anchor:s,tag:a,end:c},l){const u=Qo(e,{type:"scalar",offset:zo(t,n,o),indent:-1,source:""},a,l);return s&&(u.anchor=s.source.substring(1),""===u.anchor&&l(s,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(u.spaceBefore=!0),i&&(u.comment=i,u.range[2]=c),u}function nr(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function or(e){let t="",n=!1,o=!1;for(let r=0;r<e.length;++r){const i=e[r];switch(i[0]){case"#":t+=(""===t?"":o?"\n\n":"\n")+(i.substring(1)||" "),n=!0,o=!1;break;case"%":"#"!==e[r+1]?.[0]&&(r+=1),n=!1;break;default:n||(o=!0),n=!1}}return{comment:t,afterEmptyLine:o}}class rr{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,o)=>{const r=nr(e);o?this.warnings.push(new _o(r,t,n)):this.errors.push(new jo(r,t,n))},this.directives=new Rt({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:o}=or(this.prelude);if(n){const r=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(o||e.directives.docStart||!r)e.commentBefore=n;else if(jt(r)&&!r.flow&&r.items.length>0){let e=r.items[0];At(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=r.commentBefore;r.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:or(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,((t,n,o)=>{const r=nr(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",n,o)})),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=function(e,t,{offset:n,start:o,value:r,end:i},s){const a=Object.assign({_directives:t},e),c=new Ao(void 0,a),l={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},u=Do(o,{indicator:"doc-start",next:r??i?.[0],offset:n,onError:s,startOnNewline:!0});u.found&&(c.directives.docStart=!0,!r||"block-map"!==r.type&&"block-seq"!==r.type||u.hasNewline||s(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=r?er(l,r,u,s):tr(l,u.end,o,null,u,s);const f=c.contents.range[2],d=Fo(i,f,!1,s);return d.comment&&(c.comment=d.comment),c.range=[n,f,d.offset],c}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new jo(nr(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new jo(nr(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=Fo(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new jo(nr(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new Ao(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}function ir(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const sr="0123456789ABCDEFabcdef".split(""),ar="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),cr=",[]{}".split(""),lr=" ,[]{}\n\r\t".split(""),ur=e=>!e||lr.includes(e);class fr{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&ir(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if("\ufeff"===e[0]&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length;const n=e.indexOf("#");if(-1!==n){const o=e[n-1];" "!==o&&"\t"!==o||(t=n-1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const o=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-o),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield"",yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if("---"===e&&ir(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===e&&ir(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ir(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&ir(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(ur),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const o=this.getLine();if(null===o)return this.setNext("flow");if(-1!==n&&n<this.indentNext&&"#"!==o[0]||0===n&&(o.startsWith("---")||o.startsWith("..."))&&ir(o[3])){if(!(n===this.indentNext-1&&1===this.flowLevel&&("]"===o[0]||"}"===o[0])))return this.flowLevel=0,yield"",yield*this.parseLineStart()}let r=0;for(;","===o[r];)r+=(yield*this.pushCount(1)),r+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(r+=(yield*this.pushIndicators()),o[r]){case void 0:return"flow";case"#":return yield*this.pushCount(o.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(ur),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||ir(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let o=n.indexOf("\n",this.pos);if(-1!==o){for(;-1!==o;){const e=this.continueScalar(o+1);if(-1===e)break;o=n.indexOf("\n",e)}-1!==o&&(t=o-("\r"===n[o-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil((e=>ir(e)||"#"===e))}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let o=this.pos;e=this.buffer[o];++o)switch(e){case" ":n+=1;break;case"\n":t=o,n=0;break;case"\r":{const e=this.buffer[o+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let e=t-1,o=this.buffer[e];"\r"===o&&(o=this.buffer[--e]);const r=e;for(;" "===o||"\t"===o;)o=this.buffer[--e];if(!("\n"===o&&e>=this.pos&&e+1+n>r))break;t=e}return yield"",yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,o=this.pos-1;for(;t=this.buffer[++o];)if(":"===t){const t=this.buffer[o+1];if(ir(t)||e&&","===t)break;n=o}else if(ir(t)){let r=this.buffer[o+1];if("\r"===t&&("\n"===r?(o+=1,t="\n",r=this.buffer[o+1]):n=o),"#"===r||e&&cr.includes(r))break;if("\n"===t){const e=this.continueScalar(o+1);if(-1===e)break;o=Math.max(o,e-2)}}else{if(e&&cr.includes(t))break;n=o}return t||this.atEnd?(yield"",yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(ur))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(ir(t)||e&&cr.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!ir(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(ar.includes(t))t=this.buffer[++e];else{if("%"!==t||!sr.includes(this.buffer[e+1])||!sr.includes(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const o=n-this.pos;return o>0&&(yield this.buffer.substr(this.pos,o),this.pos=n),o}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class dr{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const o=t+n>>1;this.lineStarts[o]<e?t=o+1:n=o}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(0===t)return{line:0,col:e};return{line:t,col:e-this.lineStarts[t-1]+1}}}}function hr(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function pr(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function mr(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function gr(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function yr(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===e[++t]?.type;);return e.splice(t,e.length)}function br(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||hr(t.start,"explicit-key-ind")||hr(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,mr(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class vr{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new fr,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=function(e){switch(e){case"\ufeff":return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&br(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!hr(n.start,"explicit-key-ind"));n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===pr(n.start)&&(0===t.indent||n.start.every((e=>"comment"!==e.type||e.indent<t.indent)))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==pr(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=yr(gr(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent&&t.sep;let o=[];if(n&&t.sep&&!t.value){const n=[];for(let o=0;o<t.sep.length;++o){const r=t.sep[o];switch(r.type){case"newline":n.push(o);break;case"space":break;case"comment":r.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(o=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(n||t.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||hr(t.start,"explicit-key-ind")?n||t.value?(o.push(this.sourceToken),e.items.push({start:o})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):t.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(hr(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(hr(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(mr(t.key)&&!hr(t.sep,"newline")){const e=yr(t.start),n=t.key,o=t.sep;o.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:o}]})}else o.length>0?t.sep=t.sep.concat(o,this.sourceToken):t.sep.push(this.sourceToken);else if(hr(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=yr(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||n?e.items.push({start:o,key:null,sep:[this.sourceToken]}):hr(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);return void(n||t.value?(e.items.push({start:o,key:r,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(r):(Object.assign(t,{key:r,sep:[]}),this.onKeyLine=!0))}default:{const r=this.startBlockValue(e);if(r)return n&&"block-seq"!==r.type&&hr(t.start,"explicit-key-ind")&&e.items.push({start:o}),void this.stack.push(r)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||hr(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=yr(gr(t));br(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=yr(gr(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t}]}}case"map-value-ind":{this.onKeyLine=!0;const t=yr(gr(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&(!(this.indent<=t)&&e.every((e=>"newline"===e.type||"space"===e.type)))}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function wr(e,t={}){const{lineCounter:n,prettyErrors:o}=function(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new dr||null,prettyErrors:t}}(t),r=new vr(n?.addNewLine),i=new rr(t);let s=null;for(const t of i.compose(r.parse(e),!0,e.length))if(s){if("silent"!==s.options.logLevel){s.errors.push(new jo(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else s=t;return o&&n&&(s.errors.forEach(Lo(e,n)),s.warnings.forEach(Lo(e,n))),s}function kr(e,t,n){let o;"function"==typeof t?o=t:void 0===n&&t&&"object"==typeof t&&(n=t);const r=wr(e,n);if(!r)return null;if(r.warnings.forEach((e=>gn(r.options.logLevel,e))),r.errors.length>0){if("silent"!==r.options.logLevel)throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:o},n))}function $r(e,t,n){let o=null;if("function"==typeof t||Array.isArray(t)?o=t:void 0===n&&t&&(n=t),"string"==typeof n&&(n=n.length),"number"==typeof n){const e=Math.round(n);n=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){const{keepUndefined:e}=n??t??{};if(!e)return}return new Ao(e,o,n).toString(n)}function Sr(e){return Object(e)===e&&"string"==typeof e.compte&&Number.isFinite(e.montant)&&"Crédit"===e.sens||"Débit"===e.sens}function xr(e){return function(e){return Object(e)===e&&"string"==typeof e.identifiantOpération&&"string"==typeof e.type&&e.date instanceof Date&&Array.isArray(e.opérations)&&e.opérations.every(Sr)}(e)}function Er(e){return Object(e)===e&&"string"==typeof e.nom&&"string"==typeof e.identifiant}function Tr(e){return Object(e)===e&&"number"==typeof e.suffixeCompte&&"string"==typeof e.idPersonne}function Cr(e,t,n,o){if(""===e.trim())return[];const r=void 0===o?kr(e):kr(e,o);if(Array.isArray(r)&&r.every(n))return r;throw new TypeError(`Problème dans le format de fichier qui n'est pas reconnu (devrait être ${t}). Début du fichier:\n\n---\n${e.slice(0,100)}\n---`)}function Nr(){return{type:"Envoi facture client","numéroFacture":"",date:new Date,compteClient:"","identifiantOpération":Math.random().toString(32).slice(2),"opérations":[{compte:"",montant:0,sens:"Débit"},{compte:"44566",montant:0,sens:"Débit"}]}}function Or(){const e=new Date;return{type:"Fiche de paie",date:e,"débutPériode":e,"finPériode":e,"identifiantOpération":Math.random().toString(32).slice(2),"opérations":[]}}const Ar={headers:{"user-agent":"comptanar https://github.com/comptanar/comptanar.github.io"}};let Mr=vt.defaults(Ar);var Pr={reset(){Mr=vt.defaults(Ar)},set token(e){Mr=Mr.defaults({headers:{authorization:`token ${e}`}})},set owner(e){Mr=Mr.defaults({owner:e})},set repo(e){Mr=Mr.defaults({repo:e})},getAuthenticatedUser:()=>Mr("/user").then((({data:e})=>(e.login,e))),getOrgs:()=>Mr("/user/orgs").then((({data:e})=>(console.log("organisations",e),e))),getRepo:(e,t)=>Mr(`/repos/${e}/${t}`),createComptabilityRepo:(e,t)=>Mr("/repos/comptanar/comptabilite/generate",{method:"POST",owner:e,name:t}),getExercices:()=>Mr("/repos/{owner}/{repo}/contents/exercices").then((({data:e})=>{console.log("exercices",e);const t=[],n=new Map;for(const{name:o,git_url:r}of e){const e=Number(o),i=Mr(r).then((({data:o})=>{const r=o.tree;if(r.length>=2)throw TypeError("Il ne devrait y avoir qu'un seul fichier opérationsHautNiveau.yml et il y a plusieurs fichiers");const i=r[0],{url:s}=i,a=Mr(s).then((({data:{encoding:t,content:o,sha:r}})=>{if("base64"!==t)throw new TypeError(`type de fichier inconnu: ${t}. On ne sait gérer que 'base64'`);{const t=atob(o),i=Cr(t,"une liste d'opérations de haut niveau",xr,((e,t)=>"date"!==e&&"débutPériode"!==e&&"finPériode"!==e||"string"!=typeof t?t:new Date(t)));n.set(e,{"opérationsHautNiveau":i,sha:r})}}));return t.push(a),a}));return t.push(i),Promise.all(t).then((()=>n))}})),writeExercice(e,t,n,o){return Mr(`/repos/{owner}/{repo}/contents/${function(e){return`exercices/${e}/operationsHautNiveau.yml`}(e)}`,{method:"PUT",message:o||`Mise à jour des opérations haut niveau de l'exercice ${e}`,sha:t,content:btoa((r=n,$r(r)))});var r},getPersonnes:jr("personnes.yml",(e=>Cr(e,"une liste de personnes",Er))),writePersonnes:_r("personnes.yml","Mise à jour des personnes",(e=>$r(e))),"getSalarié·es":jr("salarié-es.yml",(e=>Cr(e,"une liste de salarié⋅es",Tr))),"writeSalarié·es":_r("salarié-es.yml","Mise à jour des salarié⋅es",(e=>$r(e)))};function jr(e,t){return async()=>{const{data:{encoding:n,content:o,sha:r}}=await Mr(`/repos/{owner}/{repo}/contents/${e}`);if("string"!=typeof r)throw new TypeError;if("string"!=typeof o)throw new TypeError;if("base64"===n)return{sha:r,data:t(atob(o))};throw new TypeError(`Encodage du fichier ${e} incorrect : on attendait du base64, on a du ${n}`)}}function _r(e,t,n){return(o,r,i)=>Mr(`/repos/{owner}/{repo}/contents/${e}`,{method:"PUT",message:i||t,sha:o,content:btoa(n(r))})}function Lr(e,t,n){const o=e.slice();return o[12]=t[n],o}function Dr(e){let t,n,o,r,i,s,a,c,l=e[3].login+"",u={ctx:e,current:null,token:null,hasCatch:!0,pending:Wr,then:qr,catch:Ur,value:16,error:15,blocks:[,,,]};return ge(a=e[4],u),{c(){t=C("h1"),n=N("Concernant l'organisation "),o=N(l),i=O(),s=A(),u.block.c()},m(e,r){x(e,t,r),k(t,n),k(t,o),x(e,i,r),x(e,s,r),u.block.m(e,u.anchor=r),u.mount=()=>s.parentNode,u.anchor=s,c=!0},p(t,n){e=t,(!c||8&n)&&l!==(l=e[3].login+"")&&L(o,l),u.ctx=e,16&n&&a!==(a=e[4])&&ge(a,u)||ye(u,e,n)},i(e){c||(te((()=>{c&&(r||(r=me(t,Re,{},!0)),r.run(1))})),de(u.block),c=!0)},o(e){r||(r=me(t,Re,{},!1)),r.run(0);for(let e=0;e<3;e+=1){he(u.blocks[e])}c=!1},d(e){e&&E(t),e&&r&&r.end(),e&&E(i),e&&E(s),u.block.d(e),u.token=null,u=null}}}function Ir(e){let t,n,o,r,i,s,a,c,l,u={ctx:e,current:null,token:null,hasCatch:!0,pending:Xr,then:Jr,catch:Vr,value:11,error:15,blocks:[,,,]};return ge(c=e[2],u),{c(){t=C("h1"),n=N("Yello "),o=N(e[0]),r=N(", tu veux faire de la comptabilité sur quelle organisation ?"),s=O(),a=A(),u.block.c()},m(e,i){x(e,t,i),k(t,n),k(t,o),k(t,r),x(e,s,i),x(e,a,i),u.block.m(e,u.anchor=i),u.mount=()=>a.parentNode,u.anchor=a,l=!0},p(t,n){e=t,(!l||1&n)&&L(o,e[0]),u.ctx=e,4&n&&c!==(c=e[2])&&ge(c,u)||ye(u,e,n)},i(e){l||(te((()=>{l&&(i||(i=me(t,Re,{},!0)),i.run(1))})),de(u.block),l=!0)},o(e){i||(i=me(t,Re,{},!1)),i.run(0);for(let e=0;e<3;e+=1){he(u.blocks[e])}l=!1},d(e){e&&E(t),e&&i&&i.end(),e&&E(s),e&&E(a),u.block.d(e),u.token=null,u=null}}}function Ur(e){let t,n,r,i,s=e[15]+"";return{c(){t=C("div"),t.textContent="Erreur dans le chargement du repo de comptabilité.",n=O(),r=C("div"),i=N(s)},m(e,o){x(e,t,o),x(e,n,o),x(e,r,o),k(r,i)},p(e,t){16&t&&s!==(s=e[15]+"")&&L(i,s)},i:o,o:o,d(e){e&&E(t),e&&E(n),e&&E(r)}}}function qr(e){let t,n,o,r;const i=[Rr,Fr,Br],s=[];function a(e,t){return e[16]?0:e[5]?2:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),o=A()},m(e,n){s[t].m(e,n),x(e,o,n),r=!0},p(e,r){let c=t;t=a(e),t===c?s[t].p(e,r):(ue(),he(s[c],1,1,(()=>{s[c]=null})),fe(),n=s[t],n?n.p(e,r):(n=s[t]=i[t](e),n.c()),de(n,1),n.m(o.parentNode,o))},i(e){r||(de(n),r=!0)},o(e){he(n),r=!1},d(e){s[t].d(e),e&&E(o)}}}function Br(e){let t,n,o,r={ctx:e,current:null,token:null,hasCatch:!0,pending:Yr,then:Kr,catch:Hr,value:11,error:15,blocks:[,,,]};return ge(n=e[5],r),{c(){t=A(),r.block.c()},m(e,n){x(e,t,n),r.block.m(e,r.anchor=n),r.mount=()=>t.parentNode,r.anchor=t,o=!0},p(t,o){e=t,r.ctx=e,32&o&&n!==(n=e[5])&&ge(n,r)||ye(r,e,o)},i(e){o||(de(r.block),o=!0)},o(e){for(let e=0;e<3;e+=1){he(r.blocks[e])}o=!1},d(e){e&&E(t),r.block.d(e),r.token=null,r=null}}}function Fr(e){let t,n,o,r,i,s,a,c,l,u,f,d,h,p,m,g,y,b=e[3].login+"";return{c(){t=C("section"),n=C("p"),n.textContent="Il n'existe pas de repo de comptabilité dans cette organisation.",o=O(),r=C("small"),i=N("(Cliquer sur le bouton va créer le repo Github "),s=C("code"),a=N(b),c=N("/"),l=N(Zr),u=N(")"),f=O(),d=C("p"),h=C("button"),h.textContent="Créer un repo de comptabilité",j(t,"class","svelte-1sc916o")},m(p,b){x(p,t,b),k(t,n),k(t,o),k(t,r),k(r,i),k(r,s),k(s,a),k(s,c),k(s,l),k(r,u),k(t,f),k(t,d),k(d,h),m=!0,g||(y=M(h,"click",e[10]),g=!0)},p(e,t){(!m||8&t)&&b!==(b=e[3].login+"")&&L(a,b)},i(e){m||(te((()=>{m&&(p||(p=me(t,Re,{},!0)),p.run(1))})),m=!0)},o(e){p||(p=me(t,Re,{},!1)),p.run(0),m=!1},d(e){e&&E(t),e&&p&&p.end(),g=!1,y()}}}function Rr(e){let t,n,o,r,i,s,a;return{c(){t=C("section"),n=N("La compta est là ! "),o=C("a"),r=N("Y aller =>"),j(o,"href",i="/comptabilite/?org="+e[3].login+"&repo="+e[6]),j(t,"class","svelte-1sc916o")},m(e,i){x(e,t,i),k(t,n),k(t,o),k(o,r),a=!0},p(e,t){(!a||8&t&&i!==(i="/comptabilite/?org="+e[3].login+"&repo="+e[6]))&&j(o,"href",i)},i(e){a||(te((()=>{a&&(s||(s=me(t,Re,{},!0)),s.run(1))})),a=!0)},o(e){s||(s=me(t,Re,{},!1)),s.run(0),a=!1},d(e){e&&E(t),e&&s&&s.end()}}}function Hr(e){let t,n,o,r,i,s,a,c,l,u,f,d,h,p=e[3].login+"",m=e[15]+"";return{c(){t=C("section"),n=C("div"),o=N("Erreur dans la création du repo de comptabilité "),r=C("code"),i=N(p),s=N("/"),a=N(Zr),c=N("."),l=O(),u=C("div"),f=N(m),j(t,"class","svelte-1sc916o")},m(e,d){x(e,t,d),k(t,n),k(n,o),k(n,r),k(r,i),k(r,s),k(r,a),k(n,c),k(t,l),k(t,u),k(u,f),h=!0},p(e,t){(!h||8&t)&&p!==(p=e[3].login+"")&&L(i,p),(!h||32&t)&&m!==(m=e[15]+"")&&L(f,m)},i(e){h||(te((()=>{h&&(d||(d=me(t,Re,{},!0)),d.run(1))})),h=!0)},o(e){d||(d=me(t,Re,{},!1)),d.run(0),h=!1},d(e){e&&E(t),e&&d&&d.end()}}}function Kr(e){let t,n,o,r,i,s,a,c;return{c(){t=C("section"),n=C("p"),n.textContent="Repo créé !",o=O(),r=C("a"),i=N("Allé, on va faire de la compta !"),j(r,"href",s="/comptabilite?org="+e[3].login+"&repo="+e[6]),j(t,"class","svelte-1sc916o")},m(e,s){x(e,t,s),k(t,n),k(t,o),k(t,r),k(r,i),c=!0},p(e,t){(!c||8&t&&s!==(s="/comptabilite?org="+e[3].login+"&repo="+e[6]))&&j(r,"href",s)},i(e){c||(te((()=>{c&&(a||(a=me(t,Re,{},!0)),a.run(1))})),c=!0)},o(e){a||(a=me(t,Re,{},!1)),a.run(0),c=!1},d(e){e&&E(t),e&&a&&a.end()}}}function Yr(e){let t,n,o,r,i,s,a,c,l,u=e[3].login+"";return{c(){t=C("section"),n=N("(Création de repo "),o=C("code"),r=N(u),i=N("/"),s=N(Zr),a=N("...)"),j(t,"class","svelte-1sc916o")},m(e,c){x(e,t,c),k(t,n),k(t,o),k(o,r),k(o,i),k(o,s),k(t,a),l=!0},p(e,t){(!l||8&t)&&u!==(u=e[3].login+"")&&L(r,u)},i(e){l||(te((()=>{l&&(c||(c=me(t,Re,{},!0)),c.run(1))})),l=!0)},o(e){c||(c=me(t,Re,{},!1)),c.run(0),l=!1},d(e){e&&E(t),e&&c&&c.end()}}}function Wr(e){let t,n,r;return{c(){t=C("section"),t.textContent="(Vérification de s'il existe déjà un repo de comptabilité)",j(t,"class","svelte-1sc916o")},m(e,n){x(e,t,n),r=!0},p:o,i(e){r||(te((()=>{r&&(n||(n=me(t,Re,{},!0)),n.run(1))})),r=!0)},o(e){n||(n=me(t,Re,{},!1)),n.run(0),r=!1},d(e){e&&E(t),e&&n&&n.end()}}}function Vr(e){let t,n,o,r,i,s,a,c=e[15]+"";return{c(){t=C("section"),n=C("div"),n.textContent="Erreur dans le chargement de le liste d'organisation.",o=O(),r=C("div"),i=N(c),j(t,"class","svelte-1sc916o")},m(e,s){x(e,t,s),k(t,n),k(t,o),k(t,r),k(r,i),a=!0},p(e,t){(!a||4&t)&&c!==(c=e[15]+"")&&L(i,c)},i(e){a||(te((()=>{a&&(s||(s=me(t,Re,{},!0)),s.run(1))})),a=!0)},o(e){s||(s=me(t,Re,{},!1)),s.run(0),a=!1},d(e){e&&E(t),e&&s&&s.end()}}}function Jr(e){let t,n,o,r,i,s,a=e[11],c=[];for(let t=0;t<a.length;t+=1)c[t]=Gr(Lr(e,a,t));return{c(){t=C("section"),n=C("p"),n.textContent="Voici les organisations possibles :",o=O(),r=C("ul");for(let e=0;e<c.length;e+=1)c[e].c();j(t,"class","svelte-1sc916o")},m(e,i){x(e,t,i),k(t,n),k(t,o),k(t,r);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(r,null);s=!0},p(e,t){if(132&t){let n;for(a=e[11],n=0;n<a.length;n+=1){const o=Lr(e,a,n);c[n]?c[n].p(o,t):(c[n]=Gr(o),c[n].c(),c[n].m(r,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}},i(e){s||(te((()=>{s&&(i||(i=me(t,Re,{},!0)),i.run(1))})),s=!0)},o(e){i||(i=me(t,Re,{},!1)),i.run(0),s=!1},d(e){e&&E(t),T(c,e),e&&i&&i.end()}}}function Gr(e){let t,n,o,r,i,s=e[12].login+"";function a(){return e[9](e[12])}return{c(){t=C("li"),n=C("button"),o=N(s)},m(e,s){x(e,t,s),k(t,n),k(n,o),r||(i=M(n,"click",a),r=!0)},p(t,n){e=t,4&n&&s!==(s=e[12].login+"")&&L(o,s)},d(e){e&&E(t),r=!1,i()}}}function Xr(e){let t,n,r;return{c(){t=C("section"),t.textContent="(chargement des orgs possibles)",j(t,"class","svelte-1sc916o")},m(e,n){x(e,t,n),r=!0},p:o,i(e){r||(te((()=>{r&&(n||(n=me(t,Re,{},!0)),n.run(1))})),r=!0)},o(e){n||(n=me(t,Re,{},!1)),n.run(0),r=!1},d(e){e&&E(t),e&&n&&n.end()}}}function Qr(e){let t,n,o,r;const i=[Ir,Dr],s=[];function a(e,t){return e[3]?1:0}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),o=A()},m(e,n){s[t].m(e,n),x(e,o,n),r=!0},p(e,r){let c=t;t=a(e),t===c?s[t].p(e,r):(ue(),he(s[c],1,1,(()=>{s[c]=null})),fe(),n=s[t],n?n.p(e,r):(n=s[t]=i[t](e),n.c()),de(n,1),n.m(o.parentNode,o))},i(e){r||(de(n),r=!0)},o(e){he(n),r=!1},d(e){s[t].d(e),e&&E(o)}}}function zr(e){let t,n;return t=new Ie({props:{login:e[0],logout:e[1],$$slots:{default:[Qr]},$$scope:{ctx:e}}}),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.login=e[0]),2&n&&(o.logout=e[1]),131133&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}const Zr="comptabilite";function ei(e,t,n){let o,r,i,{login:s}=t,{logout:a}=t,{possibleOrganisations:c=[]}=t,l=Zr;function u(e){n(3,o=e);const t=Pr.getRepo(o.login,l);n(4,r=t.catch((e=>{if(404!==e.status)throw e;console.info("Expected error trying to find a repo that may not exist")})))}function f(){n(5,i=Pr.createComptabilityRepo(o.login,Zr))}return e.$$set=e=>{"login"in e&&n(0,s=e.login),"logout"in e&&n(1,a=e.logout),"possibleOrganisations"in e&&n(2,c=e.possibleOrganisations)},[s,a,c,o,r,i,l,u,f,e=>u(e),()=>f()]}class ti extends xe{constructor(e){super(),Se(this,e,ei,zr,u,{login:0,logout:1,possibleOrganisations:2})}}function ni(e){let t,n,o,r,i,s,a,c,l,u,f,d,h,p,m,g,y,b,v,w,$,S,T;return{c(){t=C("h1"),n=N("Voici la comptabilité de l'organisation "),o=C("code"),r=N(e[2]),i=O(),s=C("section"),a=C("a"),c=C("h2"),c.textContent="Personnes",u=O(),f=C("a"),d=C("h2"),d.textContent="Salarié·es",p=O(),m=C("a"),g=C("h2"),g.textContent="Factures",b=O(),v=C("a"),w=C("h2"),w.textContent="Fiches de paie",S=O(),T=C("h2"),T.textContent="Compte de résultat et bilan comptable",j(a,"href",l="/comptabilite/personnes?org="+e[2]+"&repo="+e[3]),j(f,"href",h="/comptabilite/salarié·es?org="+e[2]+"&repo="+e[3]),j(m,"href",y="/comptabilite/factures?org="+e[2]+"&repo="+e[3]),j(v,"href",$="/comptabilite/fiches-de-paie?org="+e[2]+"&repo="+e[3])},m(e,l){x(e,t,l),k(t,n),k(t,o),k(o,r),x(e,i,l),x(e,s,l),k(s,a),k(a,c),k(s,u),k(s,f),k(f,d),k(s,p),k(s,m),k(m,g),k(s,b),k(s,v),k(v,w),k(s,S),k(s,T)},p(e,t){4&t&&L(r,e[2]),12&t&&l!==(l="/comptabilite/personnes?org="+e[2]+"&repo="+e[3])&&j(a,"href",l),12&t&&h!==(h="/comptabilite/salarié·es?org="+e[2]+"&repo="+e[3])&&j(f,"href",h),12&t&&y!==(y="/comptabilite/factures?org="+e[2]+"&repo="+e[3])&&j(m,"href",y),12&t&&$!==($="/comptabilite/fiches-de-paie?org="+e[2]+"&repo="+e[3])&&j(v,"href",$)},d(e){e&&E(t),e&&E(i),e&&E(s)}}}function oi(e){let t,n;return t=new Ie({props:{login:e[0],logout:e[1],$$slots:{default:[ni]},$$scope:{ctx:e}}}),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.login=e[0]),2&n&&(o.logout=e[1]),28&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function ri(e,t,n){let{login:o}=t,{logout:r}=t,{org:i}=t,{repo:s}=t;return e.$$set=e=>{"login"in e&&n(0,o=e.login),"logout"in e&&n(1,r=e.logout),"org"in e&&n(2,i=e.org),"repo"in e&&n(3,s=e.repo)},[o,r,i,s]}class ii extends xe{constructor(e){super(),Se(this,e,ri,oi,u,{login:0,logout:1,org:2,repo:3})}}function si(e){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},si(e)}function ai(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ci(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function li(e){ci(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===si(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function ui(e,t){ci(2,arguments);var n=li(e).getTime(),o=ai(t);return new Date(n+o)}var fi={};function di(){return fi}function hi(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function pi(e){ci(1,arguments);var t=li(e);return t.setHours(0,0,0,0),t}function mi(e,t){ci(2,arguments);var n=pi(e),o=pi(t),r=n.getTime()-hi(n),i=o.getTime()-hi(o);return Math.round((r-i)/864e5)}function gi(e,t){ci(2,arguments);var n=li(e),o=li(t),r=n.getTime()-o.getTime();return r<0?-1:r>0?1:r}function yi(e){return ci(1,arguments),e instanceof Date||"object"===si(e)&&"[object Date]"===Object.prototype.toString.call(e)}function bi(e){if(ci(1,arguments),!yi(e)&&"number"!=typeof e)return!1;var t=li(e);return!isNaN(Number(t))}function vi(e,t){ci(2,arguments);var n=li(e),o=li(t),r=n.getFullYear()-o.getFullYear(),i=n.getMonth()-o.getMonth();return 12*r+i}function wi(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function ki(e,t){ci(2,arguments);var n=li(e),o=li(t),r=wi(n,o),i=Math.abs(mi(n,o));n.setDate(n.getDate()-r*i);var s=Number(wi(n,o)===-r),a=r*(i-s);return 0===a?0:a}function $i(e,t){return ci(2,arguments),li(e).getTime()-li(t).getTime()}var Si={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function xi(e){return e?Si[e]:Si.trunc}function Ei(e){ci(1,arguments);var t=li(e);return t.setHours(23,59,59,999),t}function Ti(e){ci(1,arguments);var t=li(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ci(e){ci(1,arguments);var t=li(e);return Ei(t).getTime()===Ti(t).getTime()}function Ni(e,t){ci(2,arguments);var n,o=li(e),r=li(t),i=gi(o,r),s=Math.abs(vi(o,r));if(s<1)n=0;else{1===o.getMonth()&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-i*s);var a=gi(o,r)===-i;Ci(li(e))&&1===s&&1===gi(e,r)&&(a=!1),n=i*(s-Number(a))}return 0===n?0:n}function Oi(e,t,n){ci(2,arguments);var o=$i(e,t)/1e3;return xi(null==n?void 0:n.roundingMethod)(o)}function Ai(e,t){ci(2,arguments);var n=ai(t);return ui(e,-n)}function Mi(e){ci(1,arguments);var t=1,n=li(e),o=n.getUTCDay(),r=(o<t?7:0)+o-t;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function Pi(e){ci(1,arguments);var t=li(e),n=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(n+1,0,4),o.setUTCHours(0,0,0,0);var r=Mi(o),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=Mi(i);return t.getTime()>=r.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function ji(e){ci(1,arguments);var t=Pi(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var o=Mi(n);return o}function _i(e,t){var n,o,r,i,s,a,c,l;ci(1,arguments);var u=di(),f=ai(null!==(n=null!==(o=null!==(r=null!==(i=null==t?void 0:t.weekStartsOn)&&void 0!==i?i:null==t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==r?r:u.weekStartsOn)&&void 0!==o?o:null===(c=u.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==n?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=li(e),h=d.getUTCDay(),p=(h<f?7:0)+h-f;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function Li(e,t){var n,o,r,i,s,a,c,l;ci(1,arguments);var u=li(e),f=u.getUTCFullYear(),d=di(),h=ai(null!==(n=null!==(o=null!==(r=null!==(i=null==t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null==t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==r?r:d.firstWeekContainsDate)&&void 0!==o?o:null===(c=d.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==n?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,h),p.setUTCHours(0,0,0,0);var m=_i(p,t),g=new Date(0);g.setUTCFullYear(f,0,h),g.setUTCHours(0,0,0,0);var y=_i(g,t);return u.getTime()>=m.getTime()?f+1:u.getTime()>=y.getTime()?f:f-1}function Di(e,t){var n,o,r,i,s,a,c,l;ci(1,arguments);var u=di(),f=ai(null!==(n=null!==(o=null!==(r=null!==(i=null==t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null==t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==r?r:u.firstWeekContainsDate)&&void 0!==o?o:null===(c=u.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==n?n:1),d=Li(e,t),h=new Date(0);h.setUTCFullYear(d,0,f),h.setUTCHours(0,0,0,0);var p=_i(h,t);return p}function Ii(e,t){for(var n=e<0?"-":"",o=Math.abs(e).toString();o.length<t;)o="0"+o;return n+o}var Ui={y:function(e,t){var n=e.getUTCFullYear(),o=n>0?n:1-n;return Ii("yy"===t?o%100:o,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Ii(n+1,2)},d:function(e,t){return Ii(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Ii(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Ii(e.getUTCHours(),t.length)},m:function(e,t){return Ii(e.getUTCMinutes(),t.length)},s:function(e,t){return Ii(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,o=e.getUTCMilliseconds();return Ii(Math.floor(o*Math.pow(10,n-3)),t.length)}},qi=Ui,Bi="midnight",Fi="noon",Ri="morning",Hi="afternoon",Ki="evening",Yi="night",Wi={G:function(e,t,n){var o=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});default:return n.era(o,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var o=e.getUTCFullYear(),r=o>0?o:1-o;return n.ordinalNumber(r,{unit:"year"})}return qi.y(e,t)},Y:function(e,t,n,o){var r=Li(e,o),i=r>0?r:1-r;return"YY"===t?Ii(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Ii(i,t.length)},R:function(e,t){return Ii(Pi(e),t.length)},u:function(e,t){return Ii(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(o);case"QQ":return Ii(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,t,n){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(o);case"qq":return Ii(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,t,n){var o=e.getUTCMonth();switch(t){case"M":case"MM":return qi.M(e,t);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(e,t,n){var o=e.getUTCMonth();switch(t){case"L":return String(o+1);case"LL":return Ii(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(e,t,n,o){var r=function(e,t){ci(1,arguments);var n=li(e),o=_i(n,t).getTime()-Di(n,t).getTime();return Math.round(o/6048e5)+1}(e,o);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):Ii(r,t.length)},I:function(e,t,n){var o=function(e){ci(1,arguments);var t=li(e),n=Mi(t).getTime()-ji(t).getTime();return Math.round(n/6048e5)+1}(e);return"Io"===t?n.ordinalNumber(o,{unit:"week"}):Ii(o,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):qi.d(e,t)},D:function(e,t,n){var o=function(e){ci(1,arguments);var t=li(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var o=t.getTime(),r=n-o;return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(o,{unit:"dayOfYear"}):Ii(o,t.length)},E:function(e,t,n){var o=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(e,t,n,o){var r=e.getUTCDay(),i=(r-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ii(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,o){var r=e.getUTCDay(),i=(r-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ii(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){var o=e.getUTCDay(),r=0===o?7:o;switch(t){case"i":return String(r);case"ii":return Ii(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(e,t,n){var o=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){var o,r=e.getUTCHours();switch(o=12===r?Fi:0===r?Bi:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){var o,r=e.getUTCHours();switch(o=r>=17?Ki:r>=12?Hi:r>=4?Ri:Yi,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var o=e.getUTCHours()%12;return 0===o&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return qi.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):qi.H(e,t)},K:function(e,t,n){var o=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(o,{unit:"hour"}):Ii(o,t.length)},k:function(e,t,n){var o=e.getUTCHours();return 0===o&&(o=24),"ko"===t?n.ordinalNumber(o,{unit:"hour"}):Ii(o,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):qi.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):qi.s(e,t)},S:function(e,t){return qi.S(e,t)},X:function(e,t,n,o){var r=(o._originalDate||e).getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Ji(r);case"XXXX":case"XX":return Gi(r);default:return Gi(r,":")}},x:function(e,t,n,o){var r=(o._originalDate||e).getTimezoneOffset();switch(t){case"x":return Ji(r);case"xxxx":case"xx":return Gi(r);default:return Gi(r,":")}},O:function(e,t,n,o){var r=(o._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Vi(r,":");default:return"GMT"+Gi(r,":")}},z:function(e,t,n,o){var r=(o._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Vi(r,":");default:return"GMT"+Gi(r,":")}},t:function(e,t,n,o){var r=o._originalDate||e;return Ii(Math.floor(r.getTime()/1e3),t.length)},T:function(e,t,n,o){return Ii((o._originalDate||e).getTime(),t.length)}};function Vi(e,t){var n=e>0?"-":"+",o=Math.abs(e),r=Math.floor(o/60),i=o%60;if(0===i)return n+String(r);var s=t||"";return n+String(r)+s+Ii(i,2)}function Ji(e,t){return e%60==0?(e>0?"-":"+")+Ii(Math.abs(e)/60,2):Gi(e,t)}function Gi(e,t){var n=t||"",o=e>0?"-":"+",r=Math.abs(e);return o+Ii(Math.floor(r/60),2)+n+Ii(r%60,2)}var Xi=Wi,Qi=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},zi=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Zi={p:zi,P:function(e,t){var n,o=e.match(/(P+)(p+)?/)||[],r=o[1],i=o[2];if(!i)return Qi(e,t);switch(r){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Qi(r,t)).replace("{{time}}",zi(i,t))}},es=Zi,ts=["D","DD"],ns=["YY","YYYY"];function os(e){return-1!==ts.indexOf(e)}function rs(e){return-1!==ns.indexOf(e)}function is(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ss={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},as=function(e,t,n){var o,r=ss[e];return o="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function cs(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,o=e.formats[n]||e.formats[e.defaultWidth];return o}}var ls={date:cs({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:cs({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:cs({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},us={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fs=function(e,t,n,o){return us[e]};function ds(e){return function(t,n){var o;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var r=e.defaultFormattingWidth||e.defaultWidth,i=null!=n&&n.width?String(n.width):r;o=e.formattingValues[i]||e.formattingValues[r]}else{var s=e.defaultWidth,a=null!=n&&n.width?String(n.width):e.defaultWidth;o=e.values[a]||e.values[s]}return o[e.argumentCallback?e.argumentCallback(t):t]}}function hs(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.width,r=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;var s,a=i[0],c=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?ms(c,(function(e){return e.test(a)})):ps(c,(function(e){return e.test(a)}));s=e.valueCallback?e.valueCallback(l):l,s=n.valueCallback?n.valueCallback(s):s;var u=t.slice(a.length);return{value:s,rest:u}}}function ps(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function ms(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function gs(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.match(e.matchPattern);if(!o)return null;var r=o[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(r.length);return{value:s,rest:a}}}var ys={code:"en-US",formatDistance:as,formatLong:ls,formatRelative:fs,localize:{ordinalNumber:function(e,t){var n=Number(e),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:ds({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ds({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ds({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ds({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ds({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:gs({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:hs({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:hs({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:hs({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:hs({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},bs=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vs=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ws=/^'([^]*?)'?$/,ks=/''/g,$s=/[a-zA-Z]/;function Ss(e,t,n){var o,r,i,s,a,c,l,u,f,d,h,p,m,g,y,b,v,w;ci(2,arguments);var k=String(t),$=di(),S=null!==(o=null!==(r=null==n?void 0:n.locale)&&void 0!==r?r:$.locale)&&void 0!==o?o:ys,x=ai(null!==(i=null!==(s=null!==(a=null!==(c=null==n?void 0:n.firstWeekContainsDate)&&void 0!==c?c:null==n||null===(l=n.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==a?a:$.firstWeekContainsDate)&&void 0!==s?s:null===(f=$.locale)||void 0===f||null===(d=f.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==i?i:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=ai(null!==(h=null!==(p=null!==(m=null!==(g=null==n?void 0:n.weekStartsOn)&&void 0!==g?g:null==n||null===(y=n.locale)||void 0===y||null===(b=y.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==m?m:$.weekStartsOn)&&void 0!==p?p:null===(v=$.locale)||void 0===v||null===(w=v.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==h?h:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var T=li(e);if(!bi(T))throw new RangeError("Invalid time value");var C=hi(T),N=Ai(T,C),O={firstWeekContainsDate:x,weekStartsOn:E,locale:S,_originalDate:T},A=k.match(vs).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,es[t])(e,S.formatLong):e})).join("").match(bs).map((function(o){if("''"===o)return"'";var r=o[0];if("'"===r)return xs(o);var i=Xi[r];if(i)return null!=n&&n.useAdditionalWeekYearTokens||!rs(o)||is(o,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||!os(o)||is(o,t,String(e)),i(N,o,S.localize,O);if(r.match($s))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return o})).join("");return A}function xs(e){var t=e.match(ws);return t?t[1].replace(ks,"'"):e}function Es(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Ts(e){return Es({},e)}function Cs(e,t,n){var o,r;ci(2,arguments);var i=di(),s=null!==(o=null!==(r=null==n?void 0:n.locale)&&void 0!==r?r:i.locale)&&void 0!==o?o:ys;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=gi(e,t);if(isNaN(a))throw new RangeError("Invalid time value");var c,l,u=Es(Ts(n),{addSuffix:Boolean(null==n?void 0:n.addSuffix),comparison:a});a>0?(c=li(t),l=li(e)):(c=li(e),l=li(t));var f,d=Oi(l,c),h=(hi(l)-hi(c))/1e3,p=Math.round((d-h)/60);if(p<2)return null!=n&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,u):d<10?s.formatDistance("lessThanXSeconds",10,u):d<20?s.formatDistance("lessThanXSeconds",20,u):d<40?s.formatDistance("halfAMinute",0,u):d<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):0===p?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",p,u);if(p<45)return s.formatDistance("xMinutes",p,u);if(p<90)return s.formatDistance("aboutXHours",1,u);if(p<1440){var m=Math.round(p/60);return s.formatDistance("aboutXHours",m,u)}if(p<2520)return s.formatDistance("xDays",1,u);if(p<43200){var g=Math.round(p/1440);return s.formatDistance("xDays",g,u)}if(p<86400)return f=Math.round(p/43200),s.formatDistance("aboutXMonths",f,u);if((f=Ni(l,c))<12){var y=Math.round(p/43200);return s.formatDistance("xMonths",y,u)}var b=f%12,v=Math.floor(f/12);return b<3?s.formatDistance("aboutXYears",v,u):b<9?s.formatDistance("overXYears",v,u):s.formatDistance("almostXYears",v+1,u)}function Ns(e,t){return ci(1,arguments),Cs(e,Date.now(),t)}var Os={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},As=function(e,t,n){var o,r=Os[e];return o="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",String(t)),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+o:"il y a "+o:o},Ms={date:cs({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:cs({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:cs({formats:{full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ps={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},js=function(e,t,n,o){return Ps[e]},_s={code:"fr",formatDistance:As,formatLong:Ms,formatRelative:js,localize:{ordinalNumber:function(e,t){var n=Number(e),o=null==t?void 0:t.unit;if(0===n)return"0";return n+(1===n?o&&["year","week","hour","minute","second"].includes(o)?"ère":"er":"ème")},era:ds({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},defaultWidth:"wide"}),quarter:ds({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ds({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},defaultWidth:"wide"}),day:ds({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:ds({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},match:{ordinalNumber:gs({matchPattern:/^(\d+)(ième|ère|ème|er|e)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e)}}),era:hs({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:hs({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:hs({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:hs({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}};function Ls(e){let t;return{c(){t=C("div"),j(t,"class","lds-dual-ring svelte-c2xuas")},m(e,n){x(e,t,n)},p:o,i:o,o:o,d(e){e&&E(t)}}}class Ds extends xe{constructor(e){super(),Se(this,e,null,Ls,u,{})}}function Is(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Us(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function qs(e,t,n){return t&&Us(e.prototype,t),n&&Us(e,n),e}function Bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fs(e){return function(e){if(Array.isArray(e))return Rs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Rs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rs(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Hs={alt:"Alt",option:"Alt",control:"Control",ctrl:"Control",meta:"Meta",command:"Meta",cmd:"Meta",windows:"Meta",shift:"Shift",enter:"Enter",tab:"Tab",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",backspace:"Backspace",delete:"Delete",esc:"Escape"},Ks={"|":"\\","}":"]","{":"[",'"':"'",":":";","<":",",">":".","?":"/","~":".","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"="},Ys="1,2,3,4,5,6,7,8,9,10,11,12".split(",").reduce((function(e,t){return e["f".concat(t)]="F".concat(t),e}),{}),Ws={Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey",Alt:"altKey"},Vs="abcdefghijklmnopqrstuvwxyz",Js=[].concat(Fs(Object.values(Hs)),Fs(Object.values(Ys)),Fs(Object.values(Ks)),Fs(Object.keys(Ks)),Fs(Vs),Fs(Vs.toUpperCase())).reduce((function(e,t){return e[t]=t,e}),{});function Gs(e){return!!Ws[e]}function Xs(e){return Ks[e]||(1===e.length?e.toLocaleLowerCase():e)}function Qs(e){return!!Js[e]||1===e.length}var zs="",Zs=[],ea="",ta=0,na=[],oa=function(){zs=Zs.join("")},ra=function(e){na.forEach((function(t){try{t(e)}catch(e){console.error(e)}}))},ia=function(){var e=document.activeElement;return e&&!e.readOnly&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)};document.addEventListener("keydown",(function(e){var t=Xs(e.key),n=Gs(t),o=-1!==Zs.indexOf(t);Qs(t)&&(n?o||Zs.push(t):(ea&&(clearTimeout(ta),Zs.splice(Zs.indexOf(ea),1)),Zs.push(t),ea=t,ta=window.setTimeout((function(){Zs.splice(Zs.indexOf(t),1),ea="",ta=0,oa()}),60)),Zs.sort(),oa(),n&&o||ra(e))}),!1),document.addEventListener("keyup",(function(e){var t=Xs(e.key),n=Gs(t);!Qs(t)||n&&function(e,t){return!!t[Ws[e]]}(t,e)||(n||ea!==t||(clearTimeout(ta),ta=0,ea=""),Zs.indexOf(t)>=0&&(Zs.splice(Zs.indexOf(t),1),Zs.sort(),oa()))}),!1);var sa=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filterEditable:!0};Is(this,e),Bs(this,"disabledScope",{}),Bs(this,"handlers",{}),Bs(this,"options",void 0),Bs(this,"dispatch",(function(e){var n=t.handlers[zs],o=t.disabledScope;!n||0===n.length||o.all||t.options.filterEditable&&ia()||n.forEach((function(e){o[e.scope]||e.handler(t)}))})),this.options=n,na.push(this.dispatch)}return qs(e,[{key:"pressedKey",get:function(){return zs}}]),qs(e,[{key:"enableAllScope",value:function(){var e=this;Object.keys(this.disabledScope).forEach((function(t){delete e.disabledScope[t]}))}},{key:"findCallback",value:function(e,t,n){return e.findIndex((function(e){return e.handler===t&&e.scope===n}))}},{key:"offHotKey",value:function(e,t,n){var o=this.handlers[e];if(o){var r=this.findCallback(o,t,n);-1!==r&&o.splice(r,1)}}},{key:"onHotKey",value:function(e,t,n){(this.handlers[e]=this.handlers[e]||[]).push({handler:t,scope:n})}},{key:"parseBindkey",value:function(e){return e.toLocaleLowerCase().replace(/\s/g,"").split(",").map((function(e){return e.split("+").map((function(e){return Hs[t=e]||Ks[t]||Ys[t]||t.toLowerCase();var t})).sort().join("")}))}},{key:"destroy",value:function(){na.splice(na.indexOf(this.dispatch),1),delete this.handlers,delete this.disabledScope}},{key:"on",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";this.parseBindkey(e).forEach((function(e){n.onHotKey(e,t,o)}))}},{key:"off",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";this.parseBindkey(e).forEach((function(e){n.offHotKey(e,t,o)}))}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";this.disabledScope[e]=!0}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";"all"===e?this.enableAllScope():delete this.disabledScope[e]}}]),e}();const aa=e=>({}),ca=e=>({});function la(e,t,n){const o=e.slice();return o[13]=t[n],o[15]=n,o}function ua(e,t,n){const o=e.slice();return o[16]=t[n],o}function fa(e,t,n){const o=e.slice();return o[19]=t[n],o}function da(e,t,n){const o=e.slice();return o[22]=t[n],o}function ha(e,t,n){const o=e.slice();return o[25]=t[n],o}function pa(e,t,n){const o=e.slice();return o[16]=t[n],o}const ma=e=>({}),ga=e=>({});function ya(e){let t,n,o,r,i,s=e[16].name+"";return{c(){t=C("button"),n=N(s),j(t,"title",o=e[16].shortcut)},m(o,s){x(o,t,s),k(t,n),r||(i=M(t,"click",(function(){l(e[16])&&e[16].apply(this,arguments)})),r=!0)},p(r,i){e=r,1&i&&s!==(s=e[16].name+"")&&L(n,s),1&i&&o!==(o=e[16].shortcut)&&j(t,"title",o)},d(e){e&&E(t),r=!1,i()}}}function ba(e){let t,n,r;return n=new Ds({}),{c(){t=C("div"),we(n.$$.fragment),j(t,"class","center svelte-1cqg1j3")},m(e,o){x(e,t,o),ke(n,t,null),r=!0},p:o,i(e){r||(de(n.$$.fragment,e),r=!0)},o(e){he(n.$$.fragment,e),r=!1},d(e){e&&E(t),$e(n)}}}function va(e){let t,n,r,i,s,a,c=e[1],l=[];for(let t=0;t<c.length;t+=1)l[t]=wa(ha(e,c,t));let u=e[2],f=[];for(let t=0;t<u.length;t+=1)f[t]=ka(da(e,u,t));let d=e[3],h=[];for(let t=0;t<d.length;t+=1)h[t]=xa(la(e,d,t));return{c(){t=C("table"),n=C("thead"),r=C("tr");for(let e=0;e<l.length;e+=1)l[e].c();i=O();for(let e=0;e<f.length;e+=1)f[e].c();s=O(),a=C("tbody");for(let e=0;e<h.length;e+=1)h[e].c();j(r,"class","svelte-1cqg1j3"),j(n,"class","svelte-1cqg1j3"),j(t,"class","svelte-1cqg1j3")},m(e,o){x(e,t,o),k(t,n),k(n,r);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(r,null);k(r,i);for(let e=0;e<f.length;e+=1)f[e]&&f[e].m(r,null);k(t,s),k(t,a);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(a,null)},p(e,t){if(2&t){let n;for(c=e[1],n=0;n<c.length;n+=1){const o=ha(e,c,n);l[n]?l[n].p(o,t):(l[n]=wa(o),l[n].c(),l[n].m(r,i))}for(;n<l.length;n+=1)l[n].d(1);l.length=c.length}if(4&t){let n;for(u=e[2],n=0;n<u.length;n+=1){const o=da(e,u,n);f[n]?f[n].p(o,t):(f[n]=ka(),f[n].c(),f[n].m(r,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=u.length}if(108&t){let n;for(d=e[3],n=0;n<d.length;n+=1){const o=la(e,d,n);h[n]?h[n].p(o,t):(h[n]=xa(o),h[n].c(),h[n].m(a,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=d.length}},i:o,o:o,d(e){e&&E(t),T(l,e),T(f,e),T(h,e)}}}function wa(e){let t,n,o=e[25]+"";return{c(){t=C("th"),n=N(o),j(t,"class","svelte-1cqg1j3")},m(e,o){x(e,t,o),k(t,n)},p(e,t){2&t&&o!==(o=e[25]+"")&&L(n,o)},d(e){e&&E(t)}}}function ka(e){let t;return{c(){t=C("th"),j(t,"class","svelte-1cqg1j3")},m(e,n){x(e,t,n)},p:o,d(e){e&&E(t)}}}function $a(e){let t,n,o,r=e[19].content+"";return{c(){t=C("td"),n=N(r),j(t,"title",o=e[19].title),j(t,"class","svelte-1cqg1j3")},m(e,o){x(e,t,o),k(t,n)},p(e,i){8&i&&r!==(r=e[19].content+"")&&L(n,r),8&i&&o!==(o=e[19].title)&&j(t,"title",o)},d(e){e&&E(t)}}}function Sa(e){let t,n,o,r,i,s,a,c=e[16].name+"";function l(){return e[9](e[16],e[15])}return{c(){t=C("td"),n=C("button"),o=N(c),n.disabled=r=void 0!==e[6],j(n,"title",i=e[16].shortcut),j(t,"class","svelte-1cqg1j3")},m(e,r){x(e,t,r),k(t,n),k(n,o),s||(a=M(n,"click",l),s=!0)},p(t,s){e=t,4&s&&c!==(c=e[16].name+"")&&L(o,c),64&s&&r!==(r=void 0!==e[6])&&(n.disabled=r),4&s&&i!==(i=e[16].shortcut)&&j(n,"title",i)},d(e){e&&E(t),s=!1,a()}}}function xa(e){let t,n,o,r,i,s=e[13],a=[];for(let t=0;t<s.length;t+=1)a[t]=$a(fa(e,s,t));let c=e[2],l=[];for(let t=0;t<c.length;t+=1)l[t]=Sa(ua(e,c,t));function u(...t){return e[10](e[15],...t)}return{c(){t=C("tr");for(let e=0;e<a.length;e+=1)a[e].c();n=O();for(let e=0;e<l.length;e+=1)l[e].c();o=O(),j(t,"class","svelte-1cqg1j3"),U(t,"edition",e[6]===e[15])},m(e,s){x(e,t,s);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,null);k(t,n);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,null);k(t,o),r||(i=M(t,"click",u),r=!0)},p(r,i){if(e=r,8&i){let o;for(s=e[13],o=0;o<s.length;o+=1){const r=fa(e,s,o);a[o]?a[o].p(r,i):(a[o]=$a(r),a[o].c(),a[o].m(t,n))}for(;o<a.length;o+=1)a[o].d(1);a.length=s.length}if(68&i){let n;for(c=e[2],n=0;n<c.length;n+=1){const r=ua(e,c,n);l[n]?l[n].p(r,i):(l[n]=Sa(r),l[n].c(),l[n].m(t,o))}for(;n<l.length;n+=1)l[n].d(1);l.length=c.length}64&i&&U(t,"edition",e[6]===e[15])},d(e){e&&E(t),T(a,e),T(l,e),r=!1,i()}}}function Ea(e){let t,n;return{c(){t=C("p"),n=N(e[4]),j(t,"class","etat-vide svelte-1cqg1j3")},m(e,o){x(e,t,o),k(t,n)},p(e,t){16&t&&L(n,e[4])},i:o,o:o,d(e){e&&E(t)}}}function Ta(e){let t,n,o,r;const i=e[8]["form-header"],s=f(i,e,e[7],ca),a=e[8].default,c=f(a,e,e[7],null);return{c(){t=C("header"),s&&s.c(),n=O(),o=C("div"),c&&c.c(),j(t,"class","form-header svelte-1cqg1j3"),j(o,"class","form-body svelte-1cqg1j3")},m(e,i){x(e,t,i),s&&s.m(t,null),x(e,n,i),x(e,o,i),c&&c.m(o,null),r=!0},p(e,t){s&&s.p&&(!r||128&t)&&p(s,i,e,e[7],r?h(i,e[7],t,aa):m(e[7]),ca),c&&c.p&&(!r||128&t)&&p(c,a,e,e[7],r?h(a,e[7],t,null):m(e[7]),null)},i(e){r||(de(s,e),de(c,e),r=!0)},o(e){he(s,e),he(c,e),r=!1},d(e){e&&E(t),s&&s.d(e),e&&E(n),e&&E(o),c&&c.d(e)}}}function Ca(e){let t,n,o,r,i,s,a,c,l,u,d,g;const y=e[8].header,b=f(y,e,e[7],ga);let v=e[0],w=[];for(let t=0;t<v.length;t+=1)w[t]=ya(pa(e,v,t));const $=[va,ba],S=[];function N(e,t){return e[3]?0:1}a=N(e),c=S[a]=$[a](e);const A=[Ta,Ea],M=[];function P(e,t){return void 0!==e[6]?0:1}return u=P(e),d=M[u]=A[u](e),{c(){t=C("div"),n=C("header"),b&&b.c(),o=O(),r=C("div");for(let e=0;e<w.length;e+=1)w[e].c();i=O(),s=C("main"),c.c(),l=O(),d.c(),j(r,"class","action-group svelte-1cqg1j3"),j(n,"class","table-header svelte-1cqg1j3"),j(s,"class","svelte-1cqg1j3"),j(t,"class","tableau-editable svelte-1cqg1j3")},m(e,c){x(e,t,c),k(t,n),b&&b.m(n,null),k(n,o),k(n,r);for(let e=0;e<w.length;e+=1)w[e]&&w[e].m(r,null);k(t,i),k(t,s),S[a].m(s,null),k(t,l),M[u].m(t,null),g=!0},p(e,[n]){if(b&&b.p&&(!g||128&n)&&p(b,y,e,e[7],g?h(y,e[7],n,ma):m(e[7]),ga),1&n){let t;for(v=e[0],t=0;t<v.length;t+=1){const o=pa(e,v,t);w[t]?w[t].p(o,n):(w[t]=ya(o),w[t].c(),w[t].m(r,null))}for(;t<w.length;t+=1)w[t].d(1);w.length=v.length}let o=a;a=N(e),a===o?S[a].p(e,n):(ue(),he(S[o],1,1,(()=>{S[o]=null})),fe(),c=S[a],c?c.p(e,n):(c=S[a]=$[a](e),c.c()),de(c,1),c.m(s,null));let i=u;u=P(e),u===i?M[u].p(e,n):(ue(),he(M[i],1,1,(()=>{M[i]=null})),fe(),d=M[u],d?d.p(e,n):(d=M[u]=A[u](e),d.c()),de(d,1),d.m(t,null))},i(e){g||(de(b,e),de(c),de(d),g=!0)},o(e){he(b,e),he(c),he(d),g=!1},d(e){e&&E(t),b&&b.d(e),T(w,e),S[a].d(),M[u].d()}}}function Na(e,t,n){return Object.defineProperty(e,"name",{value:t}),e.shortcut=n,e}function Oa(e,t,n){let o,{$$slots:r={},$$scope:i}=t,{globalActions:s}=t,{columns:a}=t,{itemActions:c}=t,{data:l}=t,{placeholder:u="Sélectionne un élément"}=t;const f=function(){const e=W();return(t,n,{cancelable:o=!1}={})=>{const r=e.$$.callbacks[t];if(r){const i=q(t,n,{cancelable:o});return r.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}();async function d(e){n(6,o=e),f("edit",e),await ee();const t=document.querySelector(".edition");t&&t.scrollIntoView({behavior:"smooth",block:"end"})}const h=new sa({filterEditable:!1});for(const e of s)e.shortcut&&h.on(e.shortcut,e);for(const e of c)e.shortcut&&h.on(e.shortcut,(()=>e(o)));h.on("down",(()=>{let e=(o??-1)+1;console.log(e,l.length),e>=l.length&&(e=l.length-1),d(e)})),h.on("up",(()=>{let e=(o??l.length)-1;e<0&&(e=0),d(e)}));return e.$$set=e=>{"globalActions"in e&&n(0,s=e.globalActions),"columns"in e&&n(1,a=e.columns),"itemActions"in e&&n(2,c=e.itemActions),"data"in e&&n(3,l=e.data),"placeholder"in e&&n(4,u=e.placeholder),"$$scope"in e&&n(7,i=e.$$scope)},[s,a,c,l,u,d,o,i,r,(e,t)=>e(t),(e,t)=>d(e)]}class Aa extends xe{constructor(e){super(),Se(this,e,Oa,Ca,u,{globalActions:0,columns:1,itemActions:2,data:3,placeholder:4,edit:5})}get edit(){return this.$$.ctx[5]}}function Ma(e){return 0===ki(e,new Date)?"Aujourd'hui":ki(e,new Date)>0?`dans ${Ns(e,{locale:_s})}`:Ni(e,new Date)>-3?`il y a ${Ns(e,{locale:_s})}`:Ss(e,"d MMMM yyyy",{locale:_s})}const Pa=Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}),ja=e=>Pa.format((e=>function(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let o=-1;for(let r of e)(r=+t(r,++o,e))&&(n+=r)}return n}(e.map((({montant:e})=>e))))(e)),_a=(e,t)=>(e*Math.pow(10,6-e.toString().length)+t).toString();function La(e){let t,n,o,r,i,s,a,l,u,f,d,h,p,m,g,y,b,v,w,$,S,T,N,A,L,I,U,q,B,F,R,H,K,Y,W,V,J,G,X,Q,z,Z,ee={ctx:e,current:null,token:null,hasCatch:!0,pending:Ua,then:Ia,catch:Da,error:30,blocks:[,,,]};return ge(V=e[13],ee),{c(){t=C("form"),n=C("fieldset"),o=C("label"),r=C("div"),r.textContent="Client",i=O(),s=C("input"),a=O(),l=C("label"),u=C("div"),u.textContent="Identifiant de facture",f=O(),d=C("input"),h=O(),p=C("label"),m=C("div"),m.textContent="Date",g=O(),y=C("input"),b=O(),v=C("label"),w=C("div"),w.textContent="Montant HT (€)",$=O(),S=C("input"),T=O(),N=C("label"),A=C("div"),A.textContent="Montant TVA (€)",L=O(),I=C("input"),U=O(),q=C("label"),B=C("div"),B.textContent="Compte Produit",F=O(),R=C("input"),H=O(),K=C("div"),Y=C("button"),Y.textContent="Enregistrer",W=O(),ee.block.c(),J=O(),G=C("button"),G.textContent="Abandonner les modifications",j(s,"placeholder","411xxxx"),j(s,"class","svelte-17i2g7p"),j(d,"type","text"),j(d,"class","svelte-17i2g7p"),j(y,"type","date"),j(y,"class","svelte-17i2g7p"),j(S,"step","0.01"),j(S,"type","number"),j(S,"class","svelte-17i2g7p"),j(I,"step","0.01"),j(I,"type","number"),j(I,"class","svelte-17i2g7p"),j(R,"placeholder","706xxx"),j(R,"class","svelte-17i2g7p"),j(Y,"type","submit"),j(K,"class","button-with-loader svelte-17i2g7p"),n.disabled=X=e[13]&&"Promise"===e[13][Symbol.toStringTag],j(t,"class","svelte-17i2g7p")},m(c,E){x(c,t,E),k(t,n),k(n,o),k(o,r),k(o,i),k(o,s),e[21](s),D(s,e[5]),k(n,a),k(n,l),k(l,u),k(l,f),k(l,d),D(d,e[6]),k(n,h),k(n,p),k(p,m),k(p,g),k(p,y),D(y,e[7]),k(n,b),k(n,v),k(v,w),k(v,$),k(v,S),D(S,e[8]),k(n,T),k(n,N),k(N,A),k(N,L),k(N,I),D(I,e[9]),k(n,U),k(n,q),k(q,B),k(q,F),k(q,R),D(R,e[10]),k(n,H),k(n,K),k(K,Y),k(K,W),ee.block.m(K,ee.anchor=null),ee.mount=()=>K,ee.anchor=null,k(n,J),k(n,G),Q=!0,z||(Z=[M(s,"input",e[22]),M(d,"input",e[23]),M(y,"input",e[24]),M(S,"input",e[25]),M(I,"input",e[26]),M(R,"input",e[27]),M(G,"click",e[17]),M(t,"submit",P(e[15]))],z=!0)},p(t,o){e=t,32&o[0]&&s.value!==e[5]&&D(s,e[5]),64&o[0]&&d.value!==e[6]&&D(d,e[6]),128&o[0]&&D(y,e[7]),256&o[0]&&_(S.value)!==e[8]&&D(S,e[8]),512&o[0]&&_(I.value)!==e[9]&&D(I,e[9]),1024&o[0]&&R.value!==e[10]&&D(R,e[10]),ee.ctx=e,8192&o[0]&&V!==(V=e[13])&&ge(V,ee)||ye(ee,e,o),(!Q||8192&o[0]&&X!==(X=e[13]&&"Promise"===e[13][Symbol.toStringTag]))&&(n.disabled=X)},i(e){Q||(de(ee.block),Q=!0)},o(e){for(let e=0;e<3;e+=1){he(ee.blocks[e])}Q=!1},d(n){n&&E(t),e[21](null),ee.block.d(),ee.token=null,ee=null,z=!1,c(Z)}}}function Da(e){let t,n,r=e[30]+"";return{c(){t=N("Problème avec l'envoi de la facture "),n=N(r)},m(e,o){x(e,t,o),x(e,n,o)},p(e,t){8192&t[0]&&r!==(r=e[30]+"")&&L(n,r)},i:o,o:o,d(e){e&&E(t),e&&E(n)}}}function Ia(e){return{c:o,m:o,p:o,i:o,o:o,d:o}}function Ua(e){let t,n;return t=new Ds({}),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p:o,i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function qa(e){let t,n,o=e[12]&&La(e);return{c(){o&&o.c(),t=A()},m(e,r){o&&o.m(e,r),x(e,t,r),n=!0},p(e,n){e[12]?o?(o.p(e,n),4096&n[0]&&de(o,1)):(o=La(e),o.c(),de(o,1),o.m(t.parentNode,t)):o&&(ue(),he(o,1,1,(()=>{o=null})),fe())},i(e){n||(de(o),n=!0)},o(e){he(o),n=!1},d(e){o&&o.d(e),e&&E(t)}}}function Ba(e){let t,n,o,r;return{c(){t=C("h1"),n=N("Voici la liste des factures pour \n            "),o=C("code"),r=N(e[2]),j(t,"slot","header"),j(t,"class","svelte-17i2g7p")},m(e,i){x(e,t,i),k(t,n),k(t,o),k(o,r)},p(e,t){4&t[0]&&L(r,e[2])},d(e){e&&E(t)}}}function Fa(e){let t;return{c(){t=C("h2"),t.textContent="Facture (sans identifiant)"},m(e,n){x(e,t,n)},p:o,d(e){e&&E(t)}}}function Ra(e){let t,n,o,r;return{c(){t=C("h2"),n=N("Facture « "),o=N(e[6]),r=N(" »")},m(e,i){x(e,t,i),k(t,n),k(t,o),k(t,r)},p(e,t){64&t[0]&&L(o,e[6])},d(e){e&&E(t)}}}function Ha(e){let t;function n(e,t){return e[6]?Ra:Fa}let o=n(e),r=o(e);return{c(){r.c(),t=A()},m(e,n){r.m(e,n),x(e,t,n)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&E(t)}}}function Ka(e){let t,n;const o=[e[14]];let r={$$slots:{"form-header":[Ha],header:[Ba],default:[qa]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)r=i(r,o[e]);return t=new Aa({props:r}),e[28](t),t.$on("edit",e[29]),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p(e,n){const r=16384&n[0]?be(o,[ve(e[14])]):{};16356&n[0]|1&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(n){e[28](null),$e(t,n)}}}function Ya(e){let t,n;return t=new Ie({props:{login:e[0],logout:e[1],fullwidth:!0,$$slots:{default:[Ka]},$$scope:{ctx:e}}}),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.login=e[0]),2&n[0]&&(o.logout=e[1]),32764&n[0]|1&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function Wa(e,t,n){let o,r,i,s,a,c,l,u,f,d,h,{login:p}=t,{logout:m}=t,{org:g}=t,{"envoiFactureàClients":y}=t,{"supprimerEnvoiFactureÀClient":b}=t,{"sauvegarderEnvoiFactureÀClient":v}=t,{"créerEnvoiFactureÀClientVide":w}=t;async function k(e){n(12,u=void 0===e?w():e),n(5,o=u.compteClient),n(6,r=u.numéroFacture),n(7,i=Ss(u.date,"yyyy-MM-dd"));const t=(e,t)=>e+t.montant;n(8,s=u.opérations.filter((e=>"44566"!==e.compte)).reduce(t,0)),n(9,a=u.opérations.filter((e=>"44566"===e.compte)).reduce(t,0)),n(10,c=u.opérations.find((e=>"44566"!==e.compte)).compte),await ee(),l&&l.focus()}return e.$$set=e=>{"login"in e&&n(0,p=e.login),"logout"in e&&n(1,m=e.logout),"org"in e&&n(2,g=e.org),"envoiFactureàClients"in e&&n(3,y=e.envoiFactureàClients),"supprimerEnvoiFactureÀClient"in e&&n(18,b=e.supprimerEnvoiFactureÀClient),"sauvegarderEnvoiFactureÀClient"in e&&n(19,v=e.sauvegarderEnvoiFactureÀClient),"créerEnvoiFactureÀClientVide"in e&&n(20,w=e.créerEnvoiFactureÀClientVide)},e.$$.update=()=>{262168&e.$$.dirty[0]&&n(14,h={placeholder:"Sélectionne une facture dans la liste pour voir toutes ses informations ou les modifier.",globalActions:[Na((()=>d.edit(-1)),"Nouvelle facture","Alt+N")],itemActions:[Na(b,"Supprimer")],columns:["Date","Client","Montant total","(dont montant HT)"],data:void 0===y?[]:y.sort(((e,t)=>t.date-e.date)).map((e=>[{content:Ma(e.date),title:Ss(e.date,"d MMMM yyyy",{locale:_s})},{content:e.compteClient},{content:`${ja(e.opérations)} €`},{content:`${ja(e.opérations.filter((({compte:e})=>"44566"!==e)))} €`}]))})},[p,m,g,y,d,o,r,i,s,a,c,l,u,f,h,function(){n(13,f=v({"identifiantOpération":u.identifiantOpération,compteClient:o,identifiantFacture:r,dateFacture:i,montantHT:s,montantTVA:a,compteProduit:c})),f.then((()=>{n(13,f=void 0),d.edit(y.findIndex((e=>e.identifiantOpération===u.identifiantOpération)))}))},k,function(){d.edit(void 0)},b,v,w,function(e){J[e?"unshift":"push"]((()=>{l=e,n(11,l)}))},function(){o=this.value,n(5,o)},function(){r=this.value,n(6,r)},function(){i=this.value,n(7,i)},function(){s=_(this.value),n(8,s)},function(){a=_(this.value),n(9,a)},function(){c=this.value,n(10,c)},function(e){J[e?"unshift":"push"]((()=>{d=e,n(4,d)}))},e=>{k(y[e.detail])}]}class Va extends xe{constructor(e){super(),Se(this,e,Wa,Ya,u,{login:0,logout:1,org:2,"envoiFactureàClients":3,"supprimerEnvoiFactureÀClient":18,"sauvegarderEnvoiFactureÀClient":19,"créerEnvoiFactureÀClientVide":20},null,[-1,-1])}}function Ja(e){let t,n,o,r,i,s,a,l,u,f,d,h,p,m,g,y,b,v,w,$,S,T,N,A,L,I,U,q,B,F,R,H,K,Y,W,V,J,G,X,Q,z,Z,ee,te,ne,oe,re,ie={ctx:e,current:null,token:null,hasCatch:!0,pending:Qa,then:Xa,catch:Ga,error:34,blocks:[,,,]};return ge(z=e[6],ie),{c(){t=C("form"),n=C("fieldset"),o=C("label"),r=C("div"),r.textContent="Salarié⋅e",i=O(),s=C("input"),a=O(),l=C("label"),u=C("div"),u.textContent="Rémunération (€)",f=O(),d=C("input"),h=O(),p=C("label"),m=C("div"),m.textContent="Charges de sécurité sociale & de prévoyance (€)",g=O(),y=C("input"),b=O(),v=C("label"),w=C("div"),w.textContent="Prélèvement à la source (€)",$=O(),S=C("input"),T=O(),N=C("label"),A=C("div"),A.textContent="Date d'émission de la fiche de paie",L=O(),I=C("input"),U=O(),q=C("label"),B=C("div"),B.textContent="Début de la période",F=O(),R=C("input"),H=O(),K=C("label"),Y=C("div"),Y.textContent="Fin de la période",W=O(),V=C("input"),J=O(),G=C("div"),X=C("button"),X.textContent="Enregistrer",Q=O(),ie.block.c(),Z=O(),ee=C("button"),ee.textContent="Abandonner les modifications",j(s,"type","text"),j(d,"step","0.01"),j(d,"type","number"),j(y,"step","0.01"),j(y,"type","number"),j(S,"step","0.01"),j(S,"type","number"),j(I,"type","date"),j(R,"type","date"),j(V,"type","date"),j(X,"type","submit"),j(G,"class","button-with-loader"),n.disabled=te=e[6]&&"Promise"===e[6][Symbol.toStringTag]},m(c,E){x(c,t,E),k(t,n),k(n,o),k(o,r),k(o,i),k(o,s),e[22](s),D(s,e[8]),k(n,a),k(n,l),k(l,u),k(l,f),k(l,d),D(d,e[9]),k(n,h),k(n,p),k(p,m),k(p,g),k(p,y),D(y,e[10]),k(n,b),k(n,v),k(v,w),k(v,$),k(v,S),D(S,e[11]),k(n,T),k(n,N),k(N,A),k(N,L),k(N,I),D(I,e[12]),k(n,U),k(n,q),k(q,B),k(q,F),k(q,R),D(R,e[13]),k(n,H),k(n,K),k(K,Y),k(K,W),k(K,V),D(V,e[14]),k(n,J),k(n,G),k(G,X),k(G,Q),ie.block.m(G,ie.anchor=null),ie.mount=()=>G,ie.anchor=null,k(n,Z),k(n,ee),ne=!0,oe||(re=[M(s,"input",e[23]),M(d,"input",e[24]),M(y,"input",e[25]),M(S,"input",e[26]),M(I,"input",e[27]),M(R,"input",e[28]),M(V,"input",e[29]),M(ee,"click",e[30]),M(t,"submit",P(e[16]))],oe=!0)},p(t,o){e=t,256&o[0]&&s.value!==e[8]&&D(s,e[8]),512&o[0]&&_(d.value)!==e[9]&&D(d,e[9]),1024&o[0]&&_(y.value)!==e[10]&&D(y,e[10]),2048&o[0]&&_(S.value)!==e[11]&&D(S,e[11]),4096&o[0]&&D(I,e[12]),8192&o[0]&&D(R,e[13]),16384&o[0]&&D(V,e[14]),ie.ctx=e,64&o[0]&&z!==(z=e[6])&&ge(z,ie)||ye(ie,e,o),(!ne||64&o[0]&&te!==(te=e[6]&&"Promise"===e[6][Symbol.toStringTag]))&&(n.disabled=te)},i(e){ne||(de(ie.block),ne=!0)},o(e){for(let e=0;e<3;e+=1){he(ie.blocks[e])}ne=!1},d(n){n&&E(t),e[22](null),ie.block.d(),ie.token=null,ie=null,oe=!1,c(re)}}}function Ga(e){let t,n,r=e[34]+"";return{c(){t=N("Problème avec l'envoi de la fiche de paie "),n=N(r)},m(e,o){x(e,t,o),x(e,n,o)},p(e,t){64&t[0]&&r!==(r=e[34]+"")&&L(n,r)},i:o,o:o,d(e){e&&E(t),e&&E(n)}}}function Xa(e){return{c:o,m:o,p:o,i:o,o:o,d:o}}function Qa(e){let t,n;return t=new Ds({}),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p:o,i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function za(e){let t,n,o=e[5]&&Ja(e);return{c(){o&&o.c(),t=A()},m(e,r){o&&o.m(e,r),x(e,t,r),n=!0},p(e,n){e[5]?o?(o.p(e,n),32&n[0]&&de(o,1)):(o=Ja(e),o.c(),de(o,1),o.m(t.parentNode,t)):o&&(ue(),he(o,1,1,(()=>{o=null})),fe())},i(e){n||(de(o),n=!0)},o(e){he(o),n=!1},d(e){o&&o.d(e),e&&E(t)}}}function Za(e){let t,n,o,r;return{c(){t=C("h1"),n=N("Voici les fiches de paie pour "),o=C("code"),r=N(e[2]),j(t,"slot","header")},m(e,i){x(e,t,i),k(t,n),k(t,o),k(o,r)},p(e,t){4&t[0]&&L(r,e[2])},d(e){e&&E(t)}}}function ec(e){let t;return{c(){t=C("h1"),t.textContent="Détails de la fiche",j(t,"slot","form-header")},m(e,n){x(e,t,n)},p:o,d(e){e&&E(t)}}}function tc(e){let t,n;const o=[e[15]];let r={$$slots:{"form-header":[ec],header:[Za],default:[za]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)r=i(r,o[e]);return t=new Aa({props:r}),e[31](t),t.$on("edit",e[32]),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p(e,n){const r=32768&n[0]?be(o,[ve(e[15])]):{};32756&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(n){e[31](null),$e(t,n)}}}function nc(e){let t,n;return t=new Ie({props:{login:e[0],logout:e[1],fullwidth:!0,$$slots:{default:[tc]},$$scope:{ctx:e}}}),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.login=e[0]),2&n[0]&&(o.logout=e[1]),65532&n[0]|16&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function oc(e,t,n){let o,r,i,s,a,c,l,u,f,d,h,p,{login:m}=t,{logout:g}=t,{org:y}=t,{personnes:b}=t,{"salarié·es":v}=t,{"créerFicheDePaieVide":w}=t,{fichesDePaie:k}=t,{envoyerFicheDePaie:$}=t;function S(e){const t=e.opérations.find((e=>e.compte.startsWith("641")));if(void 0===t)return"";const n=Number.parseInt(t.compte.slice(3)),o=v.find((e=>e.suffixeCompte===n)),r=b.find((e=>e.identifiant===o.idPersonne));return r.nom}async function x(e){if(e){n(5,o=e);const t=(e=>Number.parseInt(e.slice(3)))(o.opérations[0]?.compte),r=e=>o.opérations.find((n=>n.compte===_a(e,t))).montant;n(8,a=S(o)),n(9,c=r(641)),n(10,l=r(645)),n(11,u=r(4421)),n(13,d=Ss(o.débutPériode,"yyyy-MM-dd")),n(14,h=Ss(o.finPériode,"yyyy-MM-dd")),n(12,f=Ss(o.date,"yyyy-MM-dd"))}else n(5,o=w());await ee(),s?.focus()}return e.$$set=e=>{"login"in e&&n(0,m=e.login),"logout"in e&&n(1,g=e.logout),"org"in e&&n(2,y=e.org),"personnes"in e&&n(18,b=e.personnes),"salarié·es"in e&&n(19,v=e.salarié·es),"créerFicheDePaieVide"in e&&n(20,w=e.créerFicheDePaieVide),"fichesDePaie"in e&&n(3,k=e.fichesDePaie),"envoyerFicheDePaie"in e&&n(21,$=e.envoyerFicheDePaie)},e.$$.update=()=>{24&e.$$.dirty[0]&&n(15,p={placeholder:"Sélectionne une fiche de paie pour en voir le détail et la modifier",columns:["Date d'émission","Période","Salarié⋅e","Montant"],globalActions:[Na((()=>i.edit(-1)),"Nouvelle fiche","Alt+N")],itemActions:[],data:k?.map((e=>[{content:Ma(e.date),title:Ss(e.date,"d MMMM yyyy",{locale:_s})},{content:`${Ma(e.débutPériode)} 🠒 ${Ma(e.finPériode)}`,title:`${Ss(e.débutPériode,"d MMMM yyyy",{locale:_s})} 🠒 ${Ss(e.finPériode,"d MMMM yyyy",{locale:_s})}`},{content:S(e)},{content:ja(e.opérations)}]))})},[m,g,y,k,i,o,r,s,a,c,l,u,f,d,h,p,function(){const e=b.find((e=>e.nom===a)),t=v.find((t=>t.idPersonne===e.identifiant)).suffixeCompte;n(6,r=$({"identifiantOpération":o.identifiantOpération,"compteSalarié·e":t,"nomSalarié·e":a,"rémunération":c,"sécu":l,"prélèvement":u,"dateÉmission":f,"débutPériodeStr":d,"finPériodeStr":h})),r.then((()=>{n(6,r=void 0),i.edit(k.findIndex((e=>e.identifiantOpération===o.identifiantOpération)))}))},x,b,v,w,$,function(e){J[e?"unshift":"push"]((()=>{s=e,n(7,s)}))},function(){a=this.value,n(8,a)},function(){c=_(this.value),n(9,c)},function(){l=_(this.value),n(10,l)},function(){u=_(this.value),n(11,u)},function(){f=this.value,n(12,f)},function(){d=this.value,n(13,d)},function(){h=this.value,n(14,h)},()=>i.edit(void 0),function(e){J[e?"unshift":"push"]((()=>{i=e,n(4,i)}))},e=>x(k[e.detail])]}class rc extends xe{constructor(e){super(),Se(this,e,oc,nc,u,{login:0,logout:1,org:2,personnes:18,"salarié·es":19,"créerFicheDePaieVide":20,fichesDePaie:3,envoyerFicheDePaie:21},null,[-1,-1])}}function ic(e){let t,n,o,r,i,s,a,l,u,f,d,h,p,m,g,y,b,v={ctx:e,current:null,token:null,hasCatch:!0,pending:cc,then:ac,catch:sc,error:18,blocks:[,,,]};return ge(d=e[4],v),{c(){t=C("form"),n=C("fieldset"),o=C("label"),r=C("div"),r.textContent="Nom",i=O(),s=C("input"),a=O(),l=C("div"),u=C("button"),u.textContent="Enregistrer",f=O(),v.block.c(),h=O(),p=C("button"),p.textContent="Abandonner les modifications",j(s,"type","text"),j(u,"type","submit"),j(l,"class","button-with-loader"),n.disabled=m=e[4]&&"Promise"===e[4][Symbol.toStringTag]},m(c,d){x(c,t,d),k(t,n),k(n,o),k(o,r),k(o,i),k(o,s),e[13](s),D(s,e[6]),k(n,a),k(n,l),k(l,u),k(l,f),v.block.m(l,v.anchor=null),v.mount=()=>l,v.anchor=null,k(n,h),k(n,p),g=!0,y||(b=[M(s,"input",e[14]),M(p,"click",e[15]),M(t,"submit",P(e[9]))],y=!0)},p(t,o){e=t,64&o&&s.value!==e[6]&&D(s,e[6]),v.ctx=e,16&o&&d!==(d=e[4])&&ge(d,v)||ye(v,e,o),(!g||16&o&&m!==(m=e[4]&&"Promise"===e[4][Symbol.toStringTag]))&&(n.disabled=m)},i(e){g||(de(v.block),g=!0)},o(e){for(let e=0;e<3;e+=1){he(v.blocks[e])}g=!1},d(n){n&&E(t),e[13](null),v.block.d(),v.token=null,v=null,y=!1,c(b)}}}function sc(e){let t,n,r=e[18]+"";return{c(){t=N("Problème avec la sauvegarde de la personne "),n=N(r)},m(e,o){x(e,t,o),x(e,n,o)},p(e,t){16&t&&r!==(r=e[18]+"")&&L(n,r)},i:o,o:o,d(e){e&&E(t),e&&E(n)}}}function ac(e){return{c:o,m:o,p:o,i:o,o:o,d:o}}function cc(e){let t,n;return t=new Ds({}),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p:o,i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function lc(e){let t,n,o=e[5]&&ic(e);return{c(){o&&o.c(),t=A()},m(e,r){o&&o.m(e,r),x(e,t,r),n=!0},p(e,n){e[5]?o?(o.p(e,n),32&n&&de(o,1)):(o=ic(e),o.c(),de(o,1),o.m(t.parentNode,t)):o&&(ue(),he(o,1,1,(()=>{o=null})),fe())},i(e){n||(de(o),n=!0)},o(e){he(o),n=!1},d(e){o&&o.d(e),e&&E(t)}}}function uc(e){let t;return{c(){t=C("h1"),t.textContent="Liste des personnes connues",j(t,"slot","header")},m(e,n){x(e,t,n)},p:o,d(e){e&&E(t)}}}function fc(e){let t;return{c(){t=C("h1"),t.textContent="Modifier une personne",j(t,"slot","form-header")},m(e,n){x(e,t,n)},p:o,d(e){e&&E(t)}}}function dc(e){let t,n;const o=[e[8]];let r={$$slots:{"form-header":[fc],header:[uc],default:[lc]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)r=i(r,o[e]);return t=new Aa({props:r}),e[16](t),t.$on("edit",e[17]),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p(e,n){const r=256&n?be(o,[ve(e[8])]):{};524536&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(n){e[16](null),$e(t,n)}}}function hc(e){let t,n;return t=new Ie({props:{login:e[0],logout:e[1],fullwidth:!0,$$slots:{default:[dc]},$$scope:{ctx:e}}}),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.login=e[0]),2&n&&(o.logout=e[1]),524796&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function pc(e,t,n){let o,r,i,s,a,c,{login:l}=t,{logout:u}=t,{personnes:f}=t,{supprimerPersonne:d}=t,{envoyerPersonne:h}=t;async function p(e){n(5,r=e??{identifiant:Math.random().toString(32).slice(2),nom:""}),n(6,i=r.nom),await ee(),s?.focus()}return e.$$set=e=>{"login"in e&&n(0,l=e.login),"logout"in e&&n(1,u=e.logout),"personnes"in e&&n(2,f=e.personnes),"supprimerPersonne"in e&&n(11,d=e.supprimerPersonne),"envoyerPersonne"in e&&n(12,h=e.envoyerPersonne)},e.$$.update=()=>{2060&e.$$.dirty&&n(8,c={globalActions:[Na((()=>a.edit(-1)),"Nouvelle personne","Alt+N")],itemActions:[Na((e=>d(e)),"Supprimer")],columns:["Nom"],data:f.map((e=>[{content:e.nom}]))}),4&e.$$.dirty&&console.log(f)},[l,u,f,a,o,r,i,s,c,function(){n(4,o=h({identifiant:r.identifiant,nom:i})),o.then((()=>{n(4,o=void 0),a.edit(f.findIndex((e=>e.identifiant===r.identifiant)))}))},p,d,h,function(e){J[e?"unshift":"push"]((()=>{s=e,n(7,s)}))},function(){i=this.value,n(6,i)},()=>a.edit(void 0),function(e){J[e?"unshift":"push"]((()=>{a=e,n(3,a)}))},e=>p(f[e.detail])]}class mc extends xe{constructor(e){super(),Se(this,e,pc,hc,u,{login:0,logout:1,personnes:2,supprimerPersonne:11,envoyerPersonne:12})}}function gc(e,t,n){const o=e.slice();return o[22]=t[n],o}function yc(e){let t,n,o,r=e[22].nom+"";return{c(){t=C("option"),n=N(r),t.__value=o=e[22],t.value=t.__value},m(e,o){x(e,t,o),k(t,n)},p(e,i){4&i&&r!==(r=e[22].nom+"")&&L(n,r),4&i&&o!==(o=e[22])&&(t.__value=o,t.value=t.__value)},d(e){e&&E(t)}}}function bc(e){let t,n,r=e[21]+"";return{c(){t=N("Problème avec la sauvegarde: "),n=N(r)},m(e,o){x(e,t,o),x(e,n,o)},p(e,t){128&t&&r!==(r=e[21]+"")&&L(n,r)},i:o,o:o,d(e){e&&E(t),e&&E(n)}}}function vc(e){return{c:o,m:o,p:o,i:o,o:o,d:o}}function wc(e){let t,n;return t=new Ds({}),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p:o,i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function kc(e){let t,n,o,r,i,s,a,l,u,f,d,h,p,m,g,y,b,v,w,$,S,N,A=e[2],L=[];for(let t=0;t<A.length;t+=1)L[t]=yc(gc(e,A,t));let U={ctx:e,current:null,token:null,hasCatch:!0,pending:wc,then:vc,catch:bc,error:21,blocks:[,,,]};return ge(y=e[7],U),{c(){t=C("form"),n=C("fieldset"),o=C("label"),r=C("div"),r.textContent="Personne",i=O(),s=C("select");for(let e=0;e<L.length;e+=1)L[e].c();a=O(),l=C("label"),u=C("div"),u.textContent="Suffixe des comptes",f=O(),d=C("input"),h=O(),p=C("div"),m=C("button"),m.textContent="Enregistrer",g=O(),U.block.c(),b=O(),v=C("button"),v.textContent="Abandonner les modifications",void 0===e[8]&&te((()=>e[15].call(s))),j(d,"type","number"),j(m,"type","submit"),j(p,"class","button-with-loader"),n.disabled=w=e[7]&&"Promise"===e[7][Symbol.toStringTag]},m(c,y){x(c,t,y),k(t,n),k(n,o),k(o,r),k(o,i),k(o,s);for(let e=0;e<L.length;e+=1)L[e]&&L[e].m(s,null);I(s,e[8],!0),k(n,a),k(n,l),k(l,u),k(l,f),k(l,d),D(d,e[9]),k(n,h),k(n,p),k(p,m),k(p,g),U.block.m(p,U.anchor=null),U.mount=()=>p,U.anchor=null,k(n,b),k(n,v),$=!0,S||(N=[M(s,"change",e[15]),M(d,"input",e[16]),M(v,"click",e[17]),M(t,"submit",P(e[10]))],S=!0)},p(t,o){if(e=t,4&o){let t;for(A=e[2],t=0;t<A.length;t+=1){const n=gc(e,A,t);L[t]?L[t].p(n,o):(L[t]=yc(n),L[t].c(),L[t].m(s,null))}for(;t<L.length;t+=1)L[t].d(1);L.length=A.length}260&o&&I(s,e[8]),512&o&&_(d.value)!==e[9]&&D(d,e[9]),U.ctx=e,128&o&&y!==(y=e[7])&&ge(y,U)||ye(U,e,o),(!$||128&o&&w!==(w=e[7]&&"Promise"===e[7][Symbol.toStringTag]))&&(n.disabled=w)},i(e){$||(de(U.block),$=!0)},o(e){for(let e=0;e<3;e+=1){he(U.blocks[e])}$=!1},d(e){e&&E(t),T(L,e),U.block.d(),U.token=null,U=null,S=!1,c(N)}}}function $c(e){let t;return{c(){t=C("h1"),t.textContent="Liste des salarié·es",j(t,"slot","header")},m(e,n){x(e,t,n)},p:o,d(e){e&&E(t)}}}function Sc(e){let t;return{c(){t=C("h1"),t.textContent="Ajouter un·e salarié·e"},m(e,n){x(e,t,n)},p:o,d(e){e&&E(t)}}}function xc(e){let t,n,o,r,i=e[12](e[6]).nom+"";return{c(){t=C("h1"),n=N("Modifier « "),o=N(i),r=N(" »")},m(e,i){x(e,t,i),k(t,n),k(t,o),k(t,r)},p(e,t){64&t&&i!==(i=e[12](e[6]).nom+"")&&L(o,i)},d(e){e&&E(t)}}}function Ec(e){let t;function n(e,t){return e[6]&&""!==e[6].idPersonne?xc:Sc}let o=n(e),r=o(e);return{c(){r.c(),t=A()},m(e,n){r.m(e,n),x(e,t,n)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&E(t)}}}function Tc(e){let t,n;const o=[e[5]];let r={$$slots:{"form-header":[Ec],header:[$c],default:[kc]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)r=i(r,o[e]);return t=new Aa({props:r}),e[18](t),t.$on("edit",e[19]),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p(e,n){const r=32&n?be(o,[ve(e[5])]):{};33555412&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(n){e[18](null),$e(t,n)}}}function Cc(e){let t,n;return t=new Ie({props:{login:e[0],logout:e[1],fullwidth:!0,$$slots:{default:[Tc]},$$scope:{ctx:e}}}),{c(){we(t.$$.fragment)},m(e,o){ke(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.login=e[0]),2&n&&(o.logout=e[1]),33555452&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function Nc(e,t,n){let o,r,i,s,a,c,{login:l}=t,{logout:u}=t,{personnes:f}=t,{"salarié·es":d}=t,{"supprimerSalarié·e":h}=t,{"envoyerSalarié·e":p}=t;async function m(e){n(6,i=e??{idPersonne:"",suffixeCompte:0,identifiant:Math.random().toString(32).slice(2)}),n(8,a=g(i)),n(9,c=i.suffixeCompte),await ee(),undefined.focus()}const g=e=>f.find((t=>t.identifiant===e.idPersonne));return e.$$set=e=>{"login"in e&&n(0,l=e.login),"logout"in e&&n(1,u=e.logout),"personnes"in e&&n(2,f=e.personnes),"salarié·es"in e&&n(3,d=e.salarié·es),"supprimerSalarié·e"in e&&n(13,h=e.supprimerSalarié·e),"envoyerSalarié·e"in e&&n(14,p=e.envoyerSalarié·e)},e.$$.update=()=>{8216&e.$$.dirty&&n(5,r={globalActions:[Na((()=>o.edit(-1)),"Ajouter quelqu'un","Alt+N")],itemActions:[Na((e=>h(e)),"Supprimer")],columns:["Personne","Suffixe des comptes"],data:d.map((e=>[{content:g(e)?.nom||"⚠️ Données corrompues (personne introuvable)"},{content:e.suffixeCompte}]))})},[l,u,f,d,o,r,i,s,a,c,function(){n(7,s=p({identifiant:i.identifiant,personne:a,suffixe:c})),s.then((()=>{n(7,s=void 0),o.edit(d.findIndex((e=>e.identifiant===i.identifiant)))}))},m,g,h,p,function(){a=function(e){const t=e.querySelector(":checked");return t&&t.__value}(this),n(8,a),n(2,f)},function(){c=_(this.value),n(9,c)},()=>o.edit(void 0),function(e){J[e?"unshift":"push"]((()=>{o=e,n(4,o)}))},e=>m(d[e.detail])]}class Oc extends xe{constructor(e){super(),Se(this,e,Nc,Cc,u,{login:0,logout:1,personnes:2,"salarié·es":3,"supprimerSalarié·e":13,"envoyerSalarié·e":14})}}function Ac(e){return t="comptanar_github_access_token",void 0===(n=e)?Promise.resolve().then((()=>{const e=localStorage.getItem(t);if(e)try{return JSON.parse(e)}catch(t){return e}})):Promise.resolve().then((()=>{let e=Object(n)===n?JSON.stringify(n):n;return localStorage.setItem(t,e),t}));var t,n}function Mc(){return e="comptanar_github_access_token",Promise.resolve().then((()=>{localStorage.removeItem(e)}));var e}const Pc=function({state:e,mutations:t}){let n=e;const o=new Set;let r=!1;return{get state(){return n},mutations:function e(t,i=[]){return new Proxy(t,{get(t,n){if(n in t)return e(t[n],[...i,n]);throw new TypeError(`No ${n} property in \`mutations.${i.join(".")}\``)},apply(e,t,s){if("function"!=typeof e)throw new TypeError(`\`mutations.${i.join(".")}\` is not a function`);{const t=Reflect.apply(e,void 0,[n,...s]);return void 0!==t&&(n=t),r||(r=!0,Promise.resolve().then((()=>{for(const e of o)try{e(n)}catch(e){console.error("subscriber error",e)}r=!1}))),t}}})}(t),subscribe:e=>(o.add(e),()=>{o.delete(e)})}}({state:{githubToken:await Ac(),login:void 0,userOrgs:void 0,org:void 0,repo:void 0,"opérationsHautNiveauByYear":void 0,personnes:void 0,"salarié·es":void 0},mutations:{setToken(e,t){e.githubToken=t},setLogin(e,t){e.login=t},setUserOrgs(e,t){e.userOrgs=t},logout(e){e.githubToken=void 0,e.login=void 0,e.userOrgs=void 0},setOrgAndRepo(e,t,n){e.org=t,e.repo=n},"setOpérationsHautNiveauByYear"(e,t){console.log("opérationsHautNiveauByYear",t),e.opérationsHautNiveauByYear=t},"updateOpérationsHautNiveauSha"(e,t,n){const{sha:o,"opérationsHautNiveau":r}=e.opérationsHautNiveauByYear.get(t);e.opérationsHautNiveauByYear.set(t,{sha:n,"opérationsHautNiveau":r})},"supprimerOpérationHautNiveau"(e,t,n){const{sha:o,"opérationsHautNiveau":r}=e.opérationsHautNiveauByYear.get(t);e.opérationsHautNiveauByYear.set(t,{sha:o,"opérationsHautNiveau":r.filter((e=>e.identifiantOpération!=n))})},"updateOpérationsHautNiveau"(e,t,n){const{sha:o,"opérationsHautNiveau":r}=e.opérationsHautNiveauByYear.get(t),i=r.findIndex((e=>e.identifiantOpération===n.identifiantOpération));-1===i?r.push(n):r[i]=n,e.opérationsHautNiveauByYear.set(t,{sha:o,"opérationsHautNiveau":r})},setPersonnes(e,t){e.personnes=t},updatePersonne(e,t){if(e.personnes){const{sha:n,data:o}=e.personnes,r=o.findIndex((e=>e.identifiant===t.identifiant));-1===r?o.push(t):o[r]=t,e.personnes={sha:n,data:o}}},updatePersonnesSha(e,t){e.personnes.sha=t},supprimerPersonne(e,t){if(e.personnes){const{sha:n,data:o}=e.personnes;e.personnes={sha:n,data:o.filter((e=>e.identifiant!==t.identifiant))}}},"setSalarié·es"(e,t){e.salarié·es=t},"updateSalarié·e"(e,t){if(e.salarié·es){const{sha:n,data:o}=e.salarié·es,r=o.findIndex((e=>e.identifiant===t.identifiant));-1===r?o.push(t):o[r]=t,e.salarié·es={sha:n,data:o}}},"updateSalarié·esSha"(e,t){e.salarié·es.sha=t},"supprimerSalarié·e"(e,t){e.salarié·es&&(e.salarié·es.data=e.salarié·es.data.filter((e=>e.identifiant!==t.identifiant)))}}}),jc=e=>t=>{const{"opérationsHautNiveauByYear":n}=t;return n?[...n.values()].map((({"opérationsHautNiveau":t})=>t.filter((t=>t.type===e)))).flat(1/0):void 0},_c=jc("Envoi facture client"),Lc=jc("Fiche de paie");function Dc(){return console.info("logout"),Pc.mutations.logout(),Pr.reset(),Mc()}function Ic(e,t){Pc.mutations.setOrgAndRepo(e,t),Pr.owner=e,Pr.repo=t;const n=Pr.getExercices().then((e=>Pc.mutations.setOpérationsHautNiveauByYear(e))),o=Pr.getPersonnes().then(Pc.mutations.setPersonnes),r=Pr.getSalarié·es().then(Pc.mutations.setSalarié·es);return Promise.all([n,o,r])}function Uc({"identifiantOpération":e,date:t,compteClient:n,"numéroFacture":o}){const r=t.getFullYear();Pc.mutations.supprimerOpérationHautNiveau(r,e);const i=Pc.state.opérationsHautNiveauByYear.get(r).sha,s=Ss(t,"d MMMM yyyy",{locale:_s});return Pr.writeExercice(r,i,Pc.state.opérationsHautNiveauByYear.get(r).opérationsHautNiveau,`Suppression de la facture ${o} envoyée au client ${n} le ${s}`).then((({data:{content:{sha:e}}})=>Pc.mutations.updateOpérationsHautNiveauSha(r,e)))}function qc({"identifiantOpération":e,compteClient:t,identifiantFacture:n,dateFacture:o,montantHT:r,montantTVA:i,compteProduit:s}){const a=new Date(o),c=a.getFullYear(),l={type:"Envoi facture client","numéroFacture":n,date:a,compteClient:t,"identifiantOpération":e,"opérations":[{compte:s,montant:r,sens:"Débit"},{compte:"44566",montant:i,sens:"Débit"}]};Pc.mutations.updateOpérationsHautNiveau(c,l);const u=Pc.state.opérationsHautNiveauByYear.get(c).sha,f=Ss(a,"d MMMM yyyy",{locale:_s});return Pr.writeExercice(c,u,Pc.state.opérationsHautNiveauByYear.get(c).opérationsHautNiveau,`Modification de la facture ${n} envoyée au client ${t} le ${f}`).then((({data:{content:{sha:e}}})=>Pc.mutations.updateOpérationsHautNiveauSha(c,e)))}function Bc({"identifiantOpération":e,"nomSalarié·e":t,"compteSalarié·e":n,"rémunération":o,"sécu":r,"prélèvement":i,"dateÉmission":s,"débutPériodeStr":a,"finPériodeStr":c}){const l=new Date(s),u=l.getFullYear(),f=new Date(a),d=new Date(c),h={"identifiantOpération":e,type:"Fiche de paie",date:l,"débutPériode":f,"finPériode":d,"opérations":[{compte:_a(641,n),montant:o,sens:"Crédit"},{compte:_a(645,n),montant:r,sens:"Crédit"},{compte:_a(4421,n),montant:i,sens:"Crédit"}]};Pc.mutations.updateOpérationsHautNiveau(u,h);const p=Pc.state.opérationsHautNiveauByYear.get(u).sha,m=Ss(f,"d MMMM yyyy",{locale:_s}),g=Ss(d,"d MMMM yyyy",{locale:_s});return Pr.writeExercice(u,p,Pc.state.opérationsHautNiveauByYear.get(u).opérationsHautNiveau,`Modification de la fiche de paie de ${t} pour la période du ${m} au ${g}`).then((({data:{content:{sha:e}}})=>Pc.mutations.updateOpérationsHautNiveauSha(u,e)))}function Fc(e){Pc.mutations.updatePersonne(e);const t=Pc.state.personnes.sha;return Pr.writePersonnes(t,Pc.state.personnes.data,`Modification de ${e.nom}`).then((({data:{content:{sha:e}}})=>Pc.mutations.updatePersonnesSha(e)))}function Rc(e){Pc.mutations.supprimerPersonne(e);const t=Pc.state.personnes.sha;return Pr.writePersonnes(t,Pc.state.personnes.data,`Suppression de ${e.nom}`).then((({data:{content:{sha:e}}})=>Pc.mutations.updatePersonnesSha(e)))}function Hc({identifiant:e,personne:t,suffixe:n}){Pc.mutations.updateSalarié·e({identifiant:e,idPersonne:t.identifiant,suffixeCompte:n});const o=Pc.state.salarié·es.sha;return Pr.writeSalarié·es(o,Pc.state.salarié·es.data).then((({data:{content:{sha:e}}})=>Pc.mutations.updateSalarié·esSha(e)))}function Kc(e){Pc.mutations.supprimerSalarié·e(e);const t=Pc.state.salarié·es.sha;return Pr.writeSalarié·es(t,Pc.state.salarié·e.data).then((({data:{content:{sha:e}}})=>Pc.mutations.updateSalarié·esSha(e)))}console.info("start");const Yc=document.body;let Wc,Vc=e=>{};function Jc(e,t){if(!t)throw new Error("Missing _mapStateToProps in replaceComponent");Wc&&Wc.$destroy(),Wc=e,Vc=t}function Gc(){Dc().then((()=>n("/")))}Pc.subscribe((function(e){const t=Vc(e);t&&Wc.$set(t)})),n("/",(()=>{function e(e){return{login:e.login,logout:Gc}}console.info("route","/"),Pc.state.login&&(Pc.state.repoName,Promise.resolve(Pc.state.login).then((e=>{console.info("Logged in as",e,"Moving to /choose-organisation"),n("/choose-organisation")})));Jc(new Fe({target:Yc,props:e(Pc.state)}),e)})),n("/choose-organisation",(()=>{function e(e){return{login:e.login,logout:Gc,possibleOrganisations:e.userOrgs}}console.info("route","/choose-organisation"),function(){const e=Pr.getOrgs().then((e=>(Pc.mutations.setUserOrgs(e),e)));Pc.mutations.setUserOrgs(e)}();Jc(new ti({target:Yc,props:e(Pc.state)}),e)})),n("/comptabilite/",(({querystring:e})=>{console.info("route","/comptabilite/",e);const t=new URLSearchParams(e),n=t.get("org"),o=t.get("repo");function r(e){return{login:e.login,logout:Gc,org:n,repo:o}}Ic(n,o);Jc(new ii({target:Yc,props:r(Pc.state)}),r)})),n("/comptabilite/factures",(({querystring:e})=>{console.info("route","/comptabilite/factures",e);const t=new URLSearchParams(e),n=t.get("org"),o=t.get("repo");function r(e){return{login:e.login,logout:Gc,org:n,"envoiFactureàClients":_c(e),"créerEnvoiFactureÀClientVide":Nr,"supprimerEnvoiFactureÀClient":Uc,"sauvegarderEnvoiFactureÀClient":qc}}Ic(n,o);Jc(new Va({target:Yc,props:r(Pc.state)}),r)})),n("/comptabilite/fiches-de-paie",(({querystring:e})=>{const t=new URLSearchParams(e),n=t.get("org"),o=t.get("repo");function r(e){return{login:e.login,logout:Gc,org:n,personnes:e.personnes?.data??[],"salarié·es":e.salarié·es?.data??[],"créerFicheDePaieVide":Or,envoyerFicheDePaie:Bc,fichesDePaie:Lc(e)}}Ic(n,o);Jc(new rc({target:Yc,props:r(Pc.state)}),r)})),n("/comptabilite/personnes",(({querystring:e})=>{const t=new URLSearchParams(e);function n(e){return{login:e.login,logout:Gc,personnes:e.personnes?.data??[],envoyerPersonne:Fc,supprimerPersonne:Rc}}Ic(t.get("org"),t.get("repo"));Jc(new mc({target:Yc,props:n(Pc.state)}),n)})),n("/comptabilite/salarié·es",(({querystring:e})=>{const t=new URLSearchParams(e);function n(e){return{login:e.login,logout:Gc,personnes:e.personnes?.data??[],"salarié·es":e.salarié·es?.data??[],"envoyerSalarié·e":Hc,"supprimerSalarié·e":Kc}}Ic(t.get("org"),t.get("repo"));Jc(new Oc({target:Yc,props:n(Pc.state)}),n)}));const Xc=new URL(location.href),Qc=Xc.searchParams.get("access_token");var zc;Qc&&(zc=Qc,Pc.mutations.setToken(zc),Pr.token=zc,Ac(zc)).then((()=>{Xc.searchParams.delete("access_token"),history.replaceState(void 0,"",Xc)})).catch((e=>{console.error("Saving token failed",e)})),async function(){if(Pc.state.githubToken){Pr.token=Pc.state.githubToken;const e=Pr.getAuthenticatedUser().then((({login:e})=>(Pc.mutations.setLogin(e),e)));return Pc.mutations.setLogin(e),e}return Promise.resolve(void 0)}().catch((e=>{console.error("init dance error",e)})).then((e=>{e?n.start():(n.start({dispatch:!1}),console.info("no valid login found, redirected to / route"),Dc().then((()=>n("/"))))}));
